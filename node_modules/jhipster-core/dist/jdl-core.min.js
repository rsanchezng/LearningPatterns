!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):"object"==typeof exports?exports.jdlCore=e(require("lodash")):t.jdlCore=e(t._)}("undefined"!=typeof self?self:this,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";function i(t){return t&&0===t.length}function r(t){return null==t?[]:Object.keys(t)}function o(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}function a(t,e){for(var n=[],i=r(t),o=0;o<i.length;o++){var a=i[o];n.push(e.call(null,t[a],a))}return n}function s(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e.call(null,t[i],i));return n}function c(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?e=e.concat(c(i)):e.push(i)}return e}function u(t){return i(t)?void 0:t[0]}function h(t){var e=t&&t.length;return e?t[e-1]:void 0}function p(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!k(t))throw Error("non exhaustive match");var i=r(t);for(n=0;n<i.length;n++){var o=i[n],a=t[o];e.call(null,a,o)}}}function l(t){return"string"==typeof t}function f(t){return void 0===t}function d(t){return t instanceof Function}function E(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function O(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function m(t,e){var n=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var r=t[i];e.call(null,r)&&n.push(r)}return n}function y(t,e){return m(t,(function(t){return!e(t)}))}function T(t,e){for(var n=Object.keys(t),i={},r=0;r<n.length;r++){var o=n[r],a=t[o];e(a)&&(i[o]=a)}return i}function N(t,e){return!!k(t)&&t.hasOwnProperty(e)}function A(t,e){return void 0!==R(t,(function(t){return t===e}))}function v(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function g(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function R(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(e.call(null,i))return i}}function S(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];e.call(null,r)&&n.push(r)}return n}function L(t,e,n){for(var i=Array.isArray(t),a=i?t:o(t),s=i?[]:r(t),c=n,u=0;u<a.length;u++)c=e.call(null,c,a[u],i?u:s[u]);return c}function I(t){return y(t,(function(t){return null==t}))}function _(t,e){void 0===e&&(e=function(t){return t});var n=[];return L(t,(function(t,i){var r=e(i);return A(n,r)?t:(n.push(r),t.concat(i))}),[])}function C(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=[null].concat(e);return Function.bind.apply(t,i)}function b(t){return Array.isArray(t)}function M(t){return t instanceof RegExp}function k(t){return t instanceof Object}function P(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function U(t,e){return y(t,(function(t){return A(e,t)}))}function x(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function j(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function D(t,e){var n=v(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function w(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},i=0;i<t.length;i++)n[t[i]]=e[i];return n}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var o=e[i],a=r(o),s=0;s<a.length;s++){var c=a[s];t[c]=o[c]}return t}function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var o=e[i];if(!f(o))for(var a=r(o),s=0;s<a.length;s++){var c=a[s];N(t,c)||(t[c]=o[c])}}return t}function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B.apply(null,[{}].concat(t))}function K(t,e){var n={};return p(t,(function(t){var i=e(t),r=n[i];r?r.push(t):n[i]=[t]})),n}function Y(t,e){for(var n=g(t),i=r(e),o=0;o<i.length;o++){var a=i[o],s=e[a];n[a]=s}return n}function V(){}function W(t){return t}function H(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(void 0!==i?i:void 0)}return e}function z(t){console&&console.error&&console.error("Error: "+t)}function X(t){console&&console.warn&&console.warn("Warning: "+t)}function $(){return"function"==typeof Map}function q(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(i){if("constructor"!==i){var r=Object.getOwnPropertyDescriptor(n,i);r&&(r.get||r.set)?Object.defineProperty(t.prototype,i,r):t.prototype[i]=e.prototype[i]}}))}))}function J(t){function e(){}e.prototype=t;var n=new e;function i(){return typeof n.bar}return i(),i(),t}function Z(t){return t[t.length-1]}n.d(e,"A",(function(){return i})),n.d(e,"G",(function(){return r})),n.d(e,"T",(function(){return o})),n.d(e,"J",(function(){return a})),n.d(e,"I",(function(){return s})),n.d(e,"t",(function(){return c})),n.d(e,"s",(function(){return u})),n.d(e,"H",(function(){return h})),n.d(e,"u",(function(){return p})),n.d(e,"E",(function(){return l})),n.d(e,"F",(function(){return f})),n.d(e,"B",(function(){return d})),n.d(e,"m",(function(){return E})),n.d(e,"n",(function(){return O})),n.d(e,"p",(function(){return m})),n.d(e,"P",(function(){return y})),n.d(e,"N",(function(){return T})),n.d(e,"w",(function(){return N})),n.d(e,"j",(function(){return A})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"q",(function(){return R})),n.d(e,"r",(function(){return S})),n.d(e,"O",(function(){return L})),n.d(e,"i",(function(){return I})),n.d(e,"S",(function(){return _})),n.d(e,"y",(function(){return b})),n.d(e,"D",(function(){return M})),n.d(e,"C",(function(){return k})),n.d(e,"o",(function(){return P})),n.d(e,"l",(function(){return U})),n.d(e,"Q",(function(){return x})),n.d(e,"x",(function(){return j})),n.d(e,"f",(function(){return F})),n.d(e,"k",(function(){return G})),n.d(e,"v",(function(){return K})),n.d(e,"K",(function(){return Y})),n.d(e,"b",(function(){return V})),n.d(e,"a",(function(){return W})),n.d(e,"L",(function(){return H})),n.d(e,"c",(function(){return z})),n.d(e,"d",(function(){return X})),n.d(e,"z",(function(){return $})),n.d(e,"e",(function(){return q})),n.d(e,"R",(function(){return J})),n.d(e,"M",(function(){return Z}))},function(t,e,n){var i,r,o;"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(i=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(n,"global");break;case"i":s(n,"ignoreCase");break;case"m":s(n,"multiLine");break;case"u":s(n,"unicode");break;case"y":s(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e}},t.prototype.disjunction=function(){var t=[];for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t}},t.prototype.alternative=function(){for(var t=[];this.isTerm();)t.push(this.term());return{type:"Alternative",value:t}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}c(t);var e=this.disjunction();return this.consumeChar(")"),{type:t,value:e}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:n,atMost:n};break;case",":e=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;c(e)}if(!0!==t||void 0!==e)return c(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e},t.prototype.atom=function(){var t;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),c(t),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=u;break;case"D":t=u,e=!0;break;case"s":t=p;break;case"S":t=p,e=!0;break;case"w":t=h;break;case"W":t=h,e=!0}return c(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=o("\f");break;case"n":t=o("\n");break;case"r":t=o("\r");break;case"t":t=o("\t");break;case"v":t=o("\v")}return c(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var i=this.classAtom();if("Character"===i.type){if(i.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:i.value})}else a(n.value,t),t.push(o("-")),a(i.value,t)}else a(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting a positive integer");for(;i.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===i.test(t))throw Error("Expecting an integer");for(;i.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return i.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",i=0;i<t;i++){var r=this.popChar();if(!1===n.test(r))throw Error("Expecting a HexDecimal digits");e+=r}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var e,n=/[0-9a-fA-F]/,i=/[0-9]/,r=/[1-9]/;function o(t){return t.charCodeAt(0)}function a(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function s(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function c(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var u=[];for(e=o("0");e<=o("9");e++)u.push(e);var h=[o("_")].concat(u);for(e=o("a");e<=o("z");e++)h.push(e);for(e=o("A");e<=o("Z");e++)h.push(e);var p=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o("\u2028"),o("\u2029"),o(" "),o(" "),o("　"),o("\ufeff")];function l(){}return l.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},l.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},l.prototype.visitPattern=function(t){},l.prototype.visitFlags=function(t){},l.prototype.visitDisjunction=function(t){},l.prototype.visitAlternative=function(t){},l.prototype.visitStartAnchor=function(t){},l.prototype.visitEndAnchor=function(t){},l.prototype.visitWordBoundary=function(t){},l.prototype.visitNonWordBoundary=function(t){},l.prototype.visitLookahead=function(t){},l.prototype.visitNegativeLookahead=function(t){},l.prototype.visitCharacter=function(t){},l.prototype.visitSet=function(t){},l.prototype.visitGroup=function(t){},l.prototype.visitGroupBackReference=function(t){},l.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:l,VERSION:"0.4.0"}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";n.r(e);var i="6.2.0",r=n(0);var o=/^\s*function\s*(\S*)\s*\(/,a="name";function s(t){var e=t.name;return e||t.toString().match(o)[1]}function c(t,e){var n=Object.getOwnPropertyDescriptor(t,a);return!(!Object(r.F)(n)&&!n.configurable)&&(Object.defineProperty(t,a,{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}var u=n(1),h={},p=new u.RegExpParser;function l(t){var e=t.toString();if(h.hasOwnProperty(e))return h[e];var n=p.pattern(e);return h[e]=n,n}var f,d=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E="Complement Sets are not supported for first char optimization",O='Unable to use "first char" lexer optimizations:\n';function m(t,e){void 0===e&&(e=!1);try{var n=l(t);return function t(e,n,i){switch(e.type){case"Disjunction":Object(r.u)(e.value,(function(e){return t(e,n,i)}));break;case"Alternative":for(var o=e.value,a=0;a<o.length;a++){var s=o[a];if(!Object(r.j)(["GroupBackReference","Lookahead","NegativeLookahead","StartAnchor","EndAnchor","WordBoundary","NonWordBoundary"],s.type)){var c=s;switch(c.type){case"Character":y(c.value,n,i);break;case"Set":if(!0===c.complement)throw Error(E);Object(r.u)(c.value,(function(t){if("number"==typeof t)y(t,n,i);else for(var e=t,r=e.from;r<=e.to;r++)y(r,n,i)}));break;case"Group":t(c.value,n,i);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===N(c)||"Group"!==c.type&&!1===u)break}}break;default:throw Error("non exhaustive match!")}return Object(r.T)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===E)e&&Object(r.d)(O+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var i="";e&&(i="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(r.c)(O+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+u.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+i)}}return[]}function y(t,e,n){var i=G(t);e[i]=i,!0===n&&function(t,e){var n=String.fromCharCode(t),i=n.toUpperCase();if(i!==n){var r=G(i.charCodeAt(0));e[r]=r}else{var o=n.toLowerCase();if(o!==n){r=G(o.charCodeAt(0));e[r]=r}}}(t,e)}function T(t,e){return Object(r.q)(t.value,(function(t){if("number"==typeof t)return Object(r.j)(e,t);var n=t;return void 0!==Object(r.q)(e,(function(t){return n.from<=t&&t<=n.to}))}))}function N(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(Object(r.y)(t.value)?Object(r.o)(t.value,N):N(t.value))}var A=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return d(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){Object(r.j)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===T(t,this.targetCharCodes)&&(this.found=!0):void 0!==T(t,this.targetCharCodes)&&(this.found=!0)},e}(u.BaseRegExpVisitor);function v(t,e){if(e instanceof RegExp){var n=l(e),i=new A(t);return i.visit(n),i.found}return void 0!==Object(r.q)(e,(function(e){return Object(r.j)(t,e.charCodeAt(0))}))}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R="PATTERN",S="defaultMode",L="modes",I="boolean"==typeof new RegExp("(?:)").sticky;function _(t,e){e=Object(r.k)(e,{useSticky:I,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"]}),function(){if(Object(r.A)(K)){K=new Array(65536);for(var t=0;t<65536;t++)K[t]=t>255?255+~~(t/255):t}}();var n=Object(r.P)(t,(function(t){return t[R]===tt.NA})),i=!1,o=Object(r.I)(n,(function(t){var n=t[R];if(Object(r.D)(n)){var o=n.source;return 1===o.length&&"^"!==o&&"$"!==o&&"."!==o?o:2!==o.length||"\\"!==o[0]||Object(r.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],o[1])?e.useSticky?P(n):k(n):o[1]}if(Object(r.B)(n))return i=!0,{exec:n};if(Object(r.w)(n,"exec"))return i=!0,n;if("string"==typeof n){if(1===n.length)return n;var a=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(a);return e.useSticky?P(s):k(s)}throw Error("non exhaustive match")})),a=Object(r.I)(n,(function(t){return t.tokenTypeIdx})),s=Object(r.I)(n,(function(t){var e=t.GROUP;if(e!==tt.SKIPPED){if(Object(r.E)(e))return e;if(Object(r.F)(e))return!1;throw Error("non exhaustive match")}})),c=Object(r.I)(n,(function(t){var e=t.LONGER_ALT;if(e)return Object(r.x)(n,e)})),u=Object(r.I)(n,(function(t){return t.PUSH_MODE})),h=Object(r.I)(n,(function(t){return Object(r.w)(t,"POP_MODE")})),p=F(e.lineTerminatorCharacters),l=Object(r.I)(n,(function(t){return!1}));"onlyOffset"!==e.positionTracking&&(l=Object(r.I)(n,(function(t){return Object(r.w)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===w(t,p)?v(p,t.PATTERN):void 0})));var f=Object(r.I)(n,x),d=Object(r.I)(o,j),E=Object(r.O)(n,(function(t,e){var n=e.GROUP;return Object(r.E)(n)&&n!==tt.SKIPPED&&(t[n]=[]),t}),{}),y=Object(r.I)(o,(function(t,e){return{pattern:o[e],longerAlt:c[e],canLineTerminator:l[e],isCustom:f[e],short:d[e],group:s[e],push:u[e],pop:h[e],tokenTypeIdx:a[e],tokenType:n[e]}})),T=!0,N=[];return e.safeMode||(N=Object(r.O)(n,(function(t,n,i){if("string"==typeof n.PATTERN){var o=G(n.PATTERN.charCodeAt(0));B(t,o,y[i])}else if(Object(r.y)(n.START_CHARS_HINT)){var a;Object(r.u)(n.START_CHARS_HINT,(function(e){var n=G("string"==typeof e?e.charCodeAt(0):e);a!==n&&(a=n,B(t,n,y[i]))}))}else if(Object(r.D)(n.PATTERN))if(n.PATTERN.unicode)T=!1,e.ensureOptimizations&&Object(r.c)(O+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var s=m(n.PATTERN,e.ensureOptimizations);Object(r.A)(s)&&(T=!1),Object(r.u)(s,(function(e){B(t,e,y[i])}))}else e.ensureOptimizations&&Object(r.c)(O+"\tTokenType: <"+it(n)+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),T=!1;return t}),[])),N=Object(r.L)(N),{emptyGroups:E,patternIdxToConfig:y,charCodeToPatternIdxToConfig:N,hasCustom:i,canBeOptimized:T}}function C(t,e){var n=[],i=function(t){var e=Object(r.p)(t,(function(t){return!Object(r.w)(t,R)})),n=Object(r.I)(e,(function(t){return{message:"Token Type: ->"+it(t)+"<- missing static 'PATTERN' property",type:J.MISSING_PATTERN,tokenTypes:[t]}})),i=Object(r.l)(t,e);return{errors:n,valid:i}}(t);n=n.concat(i.errors);var o=function(t){var e=Object(r.p)(t,(function(t){var e=t[R];return!(Object(r.D)(e)||Object(r.B)(e)||Object(r.w)(e,"exec")||Object(r.E)(e))})),n=Object(r.I)(e,(function(t){return{message:"Token Type: ->"+it(t)+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:J.INVALID_PATTERN,tokenTypes:[t]}})),i=Object(r.l)(t,e);return{errors:n,valid:i}}(i.valid),a=o.valid;return n=(n=(n=(n=(n=n.concat(o.errors)).concat(function(t){var e=[],n=Object(r.p)(t,(function(t){return Object(r.D)(t[R])}));return e=(e=(e=(e=(e=e.concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(u.BaseRegExpVisitor),n=Object(r.p)(t,(function(t){var n=t[R];try{var i=l(n),r=new e;return r.visit(i),r.found}catch(t){return b.test(n.source)}}));return Object(r.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+it(t)+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:J.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return g(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(u.BaseRegExpVisitor),n=Object(r.p)(t,(function(t){var n=t[R];try{var i=l(n),r=new e;return r.visit(i),r.found}catch(t){return M.test(n.source)}}));return Object(r.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+it(t)+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:J.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=Object(r.p)(t,(function(t){var e=t[R];return e instanceof RegExp&&(e.multiline||e.global)}));return Object(r.I)(e,(function(t){return{message:"Token Type: ->"+it(t)+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:J.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=[],n=Object(r.I)(t,(function(n){return Object(r.O)(t,(function(t,i){return n.PATTERN.source!==i.PATTERN.source||Object(r.j)(e,i)||i.PATTERN===tt.NA?t:(e.push(i),t.push(i),t)}),[])}));n=Object(r.i)(n);var i=Object(r.p)(n,(function(t){return t.length>1}));return Object(r.I)(i,(function(t){var e=Object(r.I)(t,(function(t){return it(t)}));return{message:"The same RegExp pattern ->"+Object(r.s)(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:J.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}(n))).concat(function(t){var e=Object(r.p)(t,(function(t){return t[R].test("")}));return Object(r.I)(e,(function(t){return{message:"Token Type: ->"+it(t)+"<- static 'PATTERN' must not match an empty string",type:J.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}(n))}(a))).concat(function(t){var e=Object(r.p)(t,(function(t){if(!Object(r.w)(t,"GROUP"))return!1;var e=t.GROUP;return e!==tt.SKIPPED&&e!==tt.NA&&!Object(r.E)(e)}));return Object(r.I)(e,(function(t){return{message:"Token Type: ->"+it(t)+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:J.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}(a))).concat(function(t,e){var n=Object(r.p)(t,(function(t){return void 0!==t.PUSH_MODE&&!Object(r.j)(e,t.PUSH_MODE)}));return Object(r.I)(n,(function(t){return{message:"Token Type: ->"+it(t)+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:J.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}(a,e))).concat(function(t){var e=[],n=Object(r.O)(t,(function(t,e,n){var i,o=e.PATTERN;return o===tt.NA?t:(Object(r.E)(o)?t.push({str:o,idx:n,tokenType:e}):Object(r.D)(o)&&(i=o,void 0===Object(r.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(t){return-1!==i.source.indexOf(t)})))&&t.push({str:o.source,idx:n,tokenType:e}),t)}),[]);return Object(r.u)(t,(function(t,i){Object(r.u)(n,(function(n){var o=n.str,a=n.idx,s=n.tokenType;if(i<a&&function(t,e){if(Object(r.D)(e)){var n=e.exec(t);return null!==n&&0===n.index}if(Object(r.B)(e))return e(t,0,[],{});if(Object(r.w)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(o,t.PATTERN)){var c="Token: ->"+it(s)+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+it(t)+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:c,type:J.UNREACHABLE_PATTERN,tokenTypes:[t,s]})}}))})),e}(a))}var b=/[^\\][\$]/;var M=/[^\\[][\^]|^\^/;function k(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function P(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function U(t,e,n){var i=[],o=!1,a=Object(r.i)(Object(r.t)(Object(r.J)(t.modes,(function(t){return t})))),s=Object(r.P)(a,(function(t){return t[R]===tt.NA})),c=F(n);return e&&Object(r.u)(s,(function(t){var e=w(t,c);if(!1!==e){var n={message:function(t,e){if(e.issue===J.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===J.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(t,e),type:e.issue,tokenType:t};i.push(n)}else Object(r.w)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(o=!0):v(c,t.PATTERN)&&(o=!0)})),e&&!o&&i.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:J.NO_LINE_BREAKS_FLAGS}),i}function x(t){var e=t.PATTERN;if(Object(r.D)(e))return!1;if(Object(r.B)(e))return!0;if(Object(r.w)(e,"exec"))return!0;if(Object(r.E)(e))return!1;throw Error("non exhaustive match")}function j(t){return!(!Object(r.E)(t)||1!==t.length)&&t.charCodeAt(0)}var D={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var i=t.charCodeAt(n);if(10===i)return this.lastIndex=n+1,!0;if(13===i)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function w(t,e){if(Object(r.w)(t,"LINE_BREAKS"))return!1;if(Object(r.D)(t.PATTERN)){try{v(e,t.PATTERN)}catch(t){return{issue:J.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if(Object(r.E)(t.PATTERN))return!1;if(x(t))return{issue:J.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function F(t){return Object(r.I)(t,(function(t){return Object(r.E)(t)&&t.length>0?t.charCodeAt(0):t}))}function B(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}function G(t){return t<256?t:K[t]}var K=[];function Y(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function V(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var W=1,H={};function z(t){var e=function(t){var e=Object(r.g)(t),n=t,i=!0;for(;i;){n=Object(r.i)(Object(r.t)(Object(r.I)(n,(function(t){return t.CATEGORIES}))));var o=Object(r.l)(n,e);e=e.concat(o),Object(r.A)(o)?i=!1:n=o}return e}(t);!function(t){Object(r.u)(t,(function(t){var e;X(t)||(H[W]=t,t.tokenTypeIdx=W++),$(t)&&!Object(r.y)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),$(t)||(t.CATEGORIES=[]),e=t,Object(r.w)(e,"categoryMatches")||(t.categoryMatches=[]),function(t){return Object(r.w)(t,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={}),function(t){return Object(r.w)(t,"tokenName")}(t)||(t.tokenName=it(t))}))}(e),function(t){Object(r.u)(t,(function(t){!function t(e,n){Object(r.u)(e,(function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0}));Object(r.u)(n.CATEGORIES,(function(i){var o=e.concat(n);Object(r.j)(o,i)||t(o,i)}))}([],t)}))}(e),function(t){Object(r.u)(t,(function(t){t.categoryMatches=[],Object(r.u)(t.categoryMatchesMap,(function(e,n){t.categoryMatches.push(H[n].tokenTypeIdx)}))}))}(e),Object(r.u)(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function X(t){return Object(r.w)(t,"tokenTypeIdx")}function $(t){return Object(r.w)(t,"CATEGORIES")}function q(t){return Object(r.w)(t,"tokenTypeIdx")}var J,Z={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,i,r){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}};!function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(J||(J={}));var Q={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Z};Object.freeze(Q);var tt=function(){function t(t,e){var n=this;if(void 0===e&&(e=Q),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");if(this.config=Object(r.K)(Q,e),this.config.lineTerminatorsPattern===Q.lineTerminatorsPattern)this.config.lineTerminatorsPattern=D;else if(this.config.lineTerminatorCharacters===Q.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking);var i,o=!0;Object(r.y)(t)?((i={modes:{}}).modes[S]=Object(r.g)(t),i[S]=S):(o=!1,i=Object(r.h)(t)),this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(t,e,n){var i=[];return Object(r.w)(t,S)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+S+"> property in its definition\n",type:J.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(r.w)(t,L)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+L+"> property in its definition\n",type:J.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(r.w)(t,L)&&Object(r.w)(t,S)&&!Object(r.w)(t.modes,t.defaultMode)&&i.push({message:"A MultiMode Lexer cannot be initialized with a "+S+": <"+t.defaultMode+">which does not exist\n",type:J.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(r.w)(t,L)&&Object(r.u)(t.modes,(function(t,e){Object(r.u)(t,(function(t,n){Object(r.F)(t)&&i.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:J.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),i}(i,this.trackStartLines,this.config.lineTerminatorCharacters)),this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(U(i,this.trackStartLines,this.config.lineTerminatorCharacters)),i.modes=i.modes?i.modes:{},Object(r.u)(i.modes,(function(t,e){i.modes[e]=Object(r.P)(t,(function(t){return Object(r.F)(t)}))}));var a=Object(r.G)(i.modes);if(Object(r.u)(i.modes,(function(t,i){if(n.modes.push(i),n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(C(t,a)),Object(r.A)(n.lexerDefinitionErrors)){z(t);var o=_(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode});n.patternIdxToConfig[i]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[i]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(r.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[i]=o.canBeOptimized}})),this.defaultMode=i.defaultMode,!Object(r.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){var s=Object(r.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+s)}if(Object(r.u)(this.lexerDefinitionWarning,(function(t){Object(r.d)(t.message)})),I?(this.chopInput=r.a,this.match=this.matchWithTest):(this.updateLastIndex=r.b,this.match=this.matchWithExec),o&&(this.handleModes=r.b),!1===this.trackStartLines&&(this.computeNewColumn=r.a),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=r.b),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+this.config.positionTracking+'"');this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom);var c=Object(r.O)(this.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!Object(r.A)(c))throw Error("Lexer Modes: < "+c.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.');h={},Object(r.R)(this)}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!Object(r.A)(this.lexerDefinitionErrors)){var n=Object(r.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,i,o,a,s,c,u,h,p,l,f,d,E,O,m,y,T,N=this,A=t,v=A.length,g=0,R=0,S=this.hasCustom?0:Math.floor(t.length/10),L=new Array(S),I=[],_=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,b=(m=this.emptyGroups,y={},T=Object(r.G)(m),Object(r.u)(T,(function(t){var e=m[t];if(!Object(r.y)(e))throw Error("non exhaustive match");y[t]=[]})),y),M=this.trackStartLines,k=this.config.lineTerminatorsPattern,P=0,U=[],x=[],j=[],D=[];Object.freeze(D);var w=void 0;function F(){return U}function B(t){var e=G(t),n=x[e];return void 0===n?D:n}var K,Y=function(t){if(1===j.length&&void 0===t.tokenType.PUSH_MODE){var e=N.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);I.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{j.pop();var n=Object(r.H)(j);U=N.patternIdxToConfig[n],x=N.charCodeToPatternIdxToConfig[n],P=U.length;var i=N.canModeBeOptimized[n]&&!1===N.config.safeMode;w=x&&i?B:F}};function V(t){j.push(t),x=this.charCodeToPatternIdxToConfig[t],U=this.patternIdxToConfig[t],P=U.length,P=U.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;w=x&&e?B:F}for(V.call(this,e);g<v;){s=null;var W=A.charCodeAt(g),H=w(W),z=H.length;for(n=0;n<z;n++){var X=(K=H[n]).pattern;if(c=null,!1!==(rt=K.short)?W===rt&&(s=X):!0===K.isCustom?null!==(O=X.exec(A,g,L,b))?(s=O[0],void 0!==O.payload&&(c=O.payload)):s=null:(this.updateLastIndex(X,g),s=this.match(X,t,g)),null!==s){if(void 0!==(a=K.longerAlt)){var $=U[a],q=$.pattern;u=null,!0===$.isCustom?null!==(O=q.exec(A,g,L,b))?(o=O[0],void 0!==O.payload&&(u=O.payload)):o=null:(this.updateLastIndex(q,g),o=this.match(q,t,g)),o&&o.length>s.length&&(s=o,c=u,K=$)}break}}if(null!==s){if(h=s.length,void 0!==(p=K.group)&&(l=K.tokenTypeIdx,f=this.createTokenInstance(s,g,l,K.tokenType,_,C,h),this.handlePayload(f,c),!1===p?R=this.addToken(L,R,f):b[p].push(f)),t=this.chopInput(t,h),g+=h,C=this.computeNewColumn(C,h),!0===M&&!0===K.canLineTerminator){var J=0,Z=void 0,Q=void 0;k.lastIndex=0;do{!0===(Z=k.test(s))&&(Q=k.lastIndex-1,J++)}while(!0===Z);0!==J&&(_+=J,C=h-Q,this.updateTokenEndLineColumnLocation(f,p,Q,J,_,C,h))}this.handleModes(K,Y,V,f)}else{for(var tt=g,et=_,nt=C,it=!1;!it&&g<v;)for(A.charCodeAt(g),t=this.chopInput(t,1),g++,i=0;i<P;i++){var rt,ot=U[i];X=ot.pattern;if(!1!==(rt=ot.short)?A.charCodeAt(g)===rt&&(it=!0):!0===ot.isCustom?it=null!==X.exec(A,g,L,b):(this.updateLastIndex(X,g),it=null!==X.exec(t)),!0===it)break}d=g-tt,E=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(A,tt,d,et,nt),I.push({offset:tt,line:et,column:nt,length:d,message:E})}}return this.hasCustom||(L.length=R),{tokens:L,groups:b,errors:I}},t.prototype.handleModes=function(t,e,n,i){if(!0===t.pop){var r=t.push;e(i),void 0!==r&&n.call(this,r)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,i,r,o,a){var s,c;void 0!==e&&(c=(s=n===a-1)?-1:0,1===i&&!0===s||(t.endLine=r+c,t.endColumn=o-1-c))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,i){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:i}},t.prototype.createStartOnlyToken=function(t,e,n,i,r,o){return{image:t,startOffset:e,startLine:r,startColumn:o,tokenTypeIdx:n,tokenType:i}},t.prototype.createFullToken=function(t,e,n,i,r,o,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:r,endLine:r,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:i}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function et(t){return nt(t)?t.LABEL:it(t)}function nt(t){return Object(r.E)(t.LABEL)&&""!==t.LABEL}function it(t){return Object(r.C)(t)&&t.hasOwnProperty("tokenName")&&Object(r.E)(t.tokenName)?t.tokenName:s(t)}var rt="parent",ot="categories",at="label",st="group",ct="push_mode",ut="pop_mode",ht="longer_alt",pt="line_breaks",lt="start_chars_hint";function ft(t){return function(t){var e=t.name,n=t.pattern,i={};c(i,e)||(i.tokenName=e);Object(r.F)(n)||(i.PATTERN=n);if(Object(r.w)(t,rt))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(r.w)(t,ot)&&(i.CATEGORIES=t[ot]);z([i]),Object(r.w)(t,at)&&(i.LABEL=t[at]);Object(r.w)(t,st)&&(i.GROUP=t[st]);Object(r.w)(t,ut)&&(i.POP_MODE=t[ut]);Object(r.w)(t,ct)&&(i.PUSH_MODE=t[ct]);Object(r.w)(t,ht)&&(i.LONGER_ALT=t[ht]);Object(r.w)(t,pt)&&(i.LINE_BREAKS=t[pt]);Object(r.w)(t,lt)&&(i.START_CHARS_HINT=t[lt]);return i}(t)}var dt=ft({name:"EOF",pattern:tt.NA});function Et(t,e,n,i,r,o,a,s){return{image:e,startOffset:n,endOffset:i,startLine:r,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Ot(t,e){return Y(t,e)}z([dt]);var mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yt=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),Object(r.u)(this.definition,(function(e){e.accept(t)}))},t}(),Tt=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(yt),Nt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),At=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.ignoreAmbiguities=!1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),vt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),gt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),Rt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),St=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),Lt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),It=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,Object(r.f)(n,Object(r.N)(e,(function(t){return void 0!==t}))),n}return mt(e,t),e}(yt),_t=function(){function t(t){this.idx=1,Object(r.f)(this,Object(r.N)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function Ct(t){return Object(r.I)(t,bt)}function bt(t){function e(t){return Object(r.I)(t,bt)}if(t instanceof Tt)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof At)return{type:"Flat",definition:e(t.definition)};if(t instanceof vt)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof gt)return{type:"RepetitionMandatory",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof Rt)return{type:"RepetitionMandatoryWithSeparator",name:t.name,idx:t.idx,separator:bt(new _t({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Lt)return{type:"RepetitionWithSeparator",name:t.name,idx:t.idx,separator:bt(new _t({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof St)return{type:"Repetition",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof It)return{type:"Alternation",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof _t){var n={type:"Terminal",name:it(t.terminalType),label:et(t.terminalType),idx:t.idx},i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Object(r.D)(i)?i.source:i),n}if(t instanceof Nt)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}var Mt=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),Object(r.u)(t.definition,(function(i,o){var a=Object(r.m)(t.definition,o+1);if(i instanceof Tt)n.walkProdRef(i,a,e);else if(i instanceof _t)n.walkTerminal(i,a,e);else if(i instanceof At)n.walkFlat(i,a,e);else if(i instanceof vt)n.walkOption(i,a,e);else if(i instanceof gt)n.walkAtLeastOne(i,a,e);else if(i instanceof Rt)n.walkAtLeastOneSep(i,a,e);else if(i instanceof Lt)n.walkManySep(i,a,e);else if(i instanceof St)n.walkMany(i,a,e);else{if(!(i instanceof It))throw Error("non exhaustive match");n.walkOr(i,a,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var i=e.concat(n);this.walk(t,i)},t.prototype.walkOption=function(t,e,n){var i=e.concat(n);this.walk(t,i)},t.prototype.walkAtLeastOne=function(t,e,n){var i=[new vt({definition:t.definition})].concat(e,n);this.walk(t,i)},t.prototype.walkAtLeastOneSep=function(t,e,n){var i=kt(t,e,n);this.walk(t,i)},t.prototype.walkMany=function(t,e,n){var i=[new vt({definition:t.definition})].concat(e,n);this.walk(t,i)},t.prototype.walkManySep=function(t,e,n){var i=kt(t,e,n);this.walk(t,i)},t.prototype.walkOr=function(t,e,n){var i=this,o=e.concat(n);Object(r.u)(t.definition,(function(t){var e=new At({definition:[t]});i.walk(e,o)}))},t}();function kt(t,e,n){return[new vt({definition:[new _t({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var Pt=function(){function t(){}return t.prototype.visit=function(t){if(t instanceof Tt)return this.visitNonTerminal(t);if(t instanceof At)return this.visitFlat(t);if(t instanceof vt)return this.visitOption(t);if(t instanceof gt)return this.visitRepetitionMandatory(t);if(t instanceof Rt)return this.visitRepetitionMandatoryWithSeparator(t);if(t instanceof Lt)return this.visitRepetitionWithSeparator(t);if(t instanceof St)return this.visitRepetition(t);if(t instanceof It)return this.visitAlternation(t);if(t instanceof _t)return this.visitTerminal(t);if(t instanceof Nt)return this.visitRule(t);throw Error("non exhaustive match")},t.prototype.visitNonTerminal=function(t){},t.prototype.visitFlat=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}(),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function xt(t,e){return void 0===e&&(e=[]),!!(t instanceof vt||t instanceof St||t instanceof Lt)||(t instanceof It?Object(r.Q)(t.definition,(function(t){return xt(t,e)})):!(t instanceof Tt&&Object(r.j)(e,t))&&(t instanceof yt&&(t instanceof Tt&&e.push(t),Object(r.o)(t.definition,(function(t){return xt(t,e)})))))}function jt(t){if(t instanceof Tt)return"SUBRULE";if(t instanceof vt)return"OPTION";if(t instanceof It)return"OR";if(t instanceof gt)return"AT_LEAST_ONE";if(t instanceof Rt)return"AT_LEAST_ONE_SEP";if(t instanceof Lt)return"MANY_SEP";if(t instanceof St)return"MANY";if(t instanceof _t)return"CONSUME";throw Error("non exhaustive match")}var Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return Ut(e,t),e.prototype.visitTerminal=function(t){var e=it(t.terminalType)+this.separator+"Terminal";Object(r.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";Object(r.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(Pt);function wt(t){if(t instanceof Tt)return wt(t.referencedRule);if(t instanceof _t)return[t.terminalType];if(function(t){return t instanceof At||t instanceof vt||t instanceof St||t instanceof gt||t instanceof Rt||t instanceof Lt||t instanceof _t||t instanceof Nt}(t))return function(t){var e,n=[],i=t.definition,o=0,a=i.length>o,s=!0;for(;a&&s;)e=i[o],s=xt(e),n=n.concat(wt(e)),o+=1,a=i.length>o;return Object(r.S)(n)}(t);if(function(t){return t instanceof It}(t))return function(t){var e=Object(r.I)(t.definition,(function(t){return wt(t)}));return Object(r.S)(Object(r.t)(e))}(t);throw Error("non exhaustive match")}var Ft="_~IN~_",Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gt=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows={},n}return Bt(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var i,r,o=(i=t.referencedRule,r=t.idx,i.name+r+Ft+this.topProd.name),a=e.concat(n),s=wt(new At({definition:a}));this.follows[o]=s},e}(Mt);function Kt(t,e,n){return n|e|t}var Yt=24;function Vt(t,e,n,i){var r=i+1<<Yt;return Kt(t,e,n)|r}var Wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ht(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function zt(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Xt(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}var $t=function(t){function e(e){var n=t.call(this)||this;return n.result=[],n.ruleIdx=e,n}return Wt(e,t),e.prototype.collectNamedDSLMethod=function(t,e,n){if(!Object(r.F)(t.name)){var i=void 0;if(t instanceof vt||t instanceof St||t instanceof gt||t instanceof It)i=new e({definition:t.definition,idx:t.idx});else{if(!(t instanceof Rt||t instanceof Lt))throw Error("non exhaustive match");i=new e({definition:t.definition,idx:t.idx,separator:t.separator})}var o=[i],a=Kt(this.ruleIdx,n,t.idx);this.result.push({def:o,key:a,name:t.name,orgProd:t})}},e.prototype.visitOption=function(t){this.collectNamedDSLMethod(t,vt,32)},e.prototype.visitRepetition=function(t){this.collectNamedDSLMethod(t,St,48)},e.prototype.visitRepetitionMandatory=function(t){this.collectNamedDSLMethod(t,gt,64)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.collectNamedDSLMethod(t,Rt,96)},e.prototype.visitRepetitionWithSeparator=function(t){this.collectNamedDSLMethod(t,Lt,80)},e.prototype.visitAlternation=function(t){var e=this;this.collectNamedDSLMethod(t,It,16);var n=t.definition.length>1;Object(r.u)(t.definition,(function(i,o){if(!Object(r.F)(i.name)){var a=i.definition;a=n?[new vt({definition:i.definition})]:i.definition;var s=Vt(e.ruleIdx,16,t.idx,o);e.result.push({def:a,key:s,name:i.name,orgProd:i})}}))},e}(Pt);var qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jt=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.path=n,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=it(i.path.lastTok),i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return qt(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&it(t.terminalType)===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var i=e.concat(n),r=new At({definition:i});this.possibleTokTypes=wt(r),this.found=!0}},e}(function(t){function e(e,n){var i=t.call(this)||this;return i.topProd=e,i.path=n,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return qt(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(r.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(r.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var i=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}},e.prototype.updateExpectedNext=function(){Object(r.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(Mt)),Zt=function(t){function e(e,n){var i=t.call(this)||this;return i.topRule=e,i.occurrence=n,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return qt(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(Mt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.walkMany=function(e,n,i){if(e.idx===this.occurrence){var o=Object(r.s)(n.concat(i));this.result.isEndOfRule=void 0===o,o instanceof _t&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,e,n,i)},e}(Zt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.walkManySep=function(e,n,i){if(e.idx===this.occurrence){var o=Object(r.s)(n.concat(i));this.result.isEndOfRule=void 0===o,o instanceof _t&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,e,n,i)},e}(Zt),ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.walkAtLeastOne=function(e,n,i){if(e.idx===this.occurrence){var o=Object(r.s)(n.concat(i));this.result.isEndOfRule=void 0===o,o instanceof _t&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,i)},e}(Zt),ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.walkAtLeastOneSep=function(e,n,i){if(e.idx===this.occurrence){var o=Object(r.s)(n.concat(i));this.result.isEndOfRule=void 0===o,o instanceof _t&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,i)},e}(Zt);function ie(t,e,n){void 0===n&&(n=[]),n=Object(r.g)(n);var i=[],o=0;function a(a){var s=ie(a.concat(Object(r.m)(t,o+1)),e,n);return i.concat(s)}for(;n.length<e&&o<t.length;){var s=t[o];if(s instanceof At)return a(s.definition);if(s instanceof Tt)return a(s.definition);if(s instanceof vt)i=a(s.definition);else{if(s instanceof gt)return a(c=s.definition.concat([new St({definition:s.definition})]));if(s instanceof Rt)return a(c=[new At({definition:s.definition}),new St({definition:[new _t({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof Lt){var c=s.definition.concat([new St({definition:[new _t({terminalType:s.separator})].concat(s.definition)})]);i=a(c)}else if(s instanceof St){c=s.definition.concat([new St({definition:s.definition})]);i=a(c)}else{if(s instanceof It)return Object(r.u)(s.definition,(function(t){i=a(t.definition)})),i;if(!(s instanceof _t))throw Error("non exhaustive match");n.push(s.terminalType)}}o++}return i.push({partialPath:n,suffixDef:Object(r.m)(t,o)}),i}function re(t,e,n,i){var o=["EXIT_NONE_TERMINAL"],a=!1,s=e.length,c=s-i-1,u=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Object(r.A)(h);){var p=h.pop();if("EXIT_ALTERNATIVE"!==p){var l=p.def,f=p.idx,d=p.ruleStack,E=p.occurrenceStack;if(!Object(r.A)(l)){var O=l[0];if("EXIT_NONE_TERMINAL"===O){var m={idx:f,def:Object(r.m)(l),ruleStack:Object(r.n)(d),occurrenceStack:Object(r.n)(E)};h.push(m)}else if(O instanceof _t)if(f<s-1){var y=f+1;if(n(e[y],O.terminalType)){m={idx:y,def:Object(r.m)(l),ruleStack:d,occurrenceStack:E};h.push(m)}}else{if(f!==s-1)throw Error("non exhaustive match");u.push({nextTokenType:O.terminalType,nextTokenOccurrence:O.idx,ruleStack:d,occurrenceStack:E}),a=!0}else if(O instanceof Tt){var T=Object(r.g)(d);T.push(O.nonTerminalName);var N=Object(r.g)(E);N.push(O.idx);m={idx:f,def:O.definition.concat(o,Object(r.m)(l)),ruleStack:T,occurrenceStack:N};h.push(m)}else if(O instanceof vt){var A={idx:f,def:Object(r.m)(l),ruleStack:d,occurrenceStack:E};h.push(A),h.push("EXIT_ALTERNATIVE");var v={idx:f,def:O.definition.concat(Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(v)}else if(O instanceof gt){var g=new St({definition:O.definition,idx:O.idx});m={idx:f,def:O.definition.concat([g],Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(m)}else if(O instanceof Rt){var R=new _t({terminalType:O.separator});g=new St({definition:[R].concat(O.definition),idx:O.idx}),m={idx:f,def:O.definition.concat([g],Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(m)}else if(O instanceof Lt){A={idx:f,def:Object(r.m)(l),ruleStack:d,occurrenceStack:E};h.push(A),h.push("EXIT_ALTERNATIVE");R=new _t({terminalType:O.separator});var S=new St({definition:[R].concat(O.definition),idx:O.idx});v={idx:f,def:O.definition.concat([S],Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(v)}else if(O instanceof St){A={idx:f,def:Object(r.m)(l),ruleStack:d,occurrenceStack:E};h.push(A),h.push("EXIT_ALTERNATIVE");S=new St({definition:O.definition,idx:O.idx}),v={idx:f,def:O.definition.concat([S],Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(v)}else if(O instanceof It)for(var L=O.definition.length-1;L>=0;L--){var I={idx:f,def:O.definition[L].definition.concat(Object(r.m)(l)),ruleStack:d,occurrenceStack:E};h.push(I),h.push("EXIT_ALTERNATIVE")}else if(O instanceof At)h.push({idx:f,def:O.definition.concat(Object(r.m)(l)),ruleStack:d,occurrenceStack:E});else{if(!(O instanceof Nt))throw Error("non exhaustive match");h.push(oe(O,f,d,E))}}}else a&&Object(r.H)(h).idx<=c&&h.pop()}return u}function oe(t,e,n,i){var o=Object(r.g)(n);o.push(t.name);var a=Object(r.g)(i);return a.push(1),{idx:e,def:t.definition,ruleStack:o,occurrenceStack:a}}var ae,se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(ae||(ae={}));var ce=function(t){function e(e,n,i){var r=t.call(this)||this;return r.topProd=e,r.targetOccurrence=n,r.targetProdType=i,r}return se(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(i),!0)},e.prototype.walkOption=function(e,n,i){this.checkIsTarget(e,ae.OPTION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOne=function(e,n,i){this.checkIsTarget(e,ae.REPETITION_MANDATORY,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOneSep=function(e,n,i){this.checkIsTarget(e,ae.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkMany=function(e,n,i){this.checkIsTarget(e,ae.REPETITION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkManySep=function(e,n,i){this.checkIsTarget(e,ae.REPETITION_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e}(Mt),ue=function(t){function e(e,n){var i=t.call(this)||this;return i.targetOccurrence=e,i.targetProdType=n,i.result=[],i}return se(e,t),e.prototype.checkIsTarget=function(t,e){t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,ae.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,ae.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,ae.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,ae.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,ae.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,ae.ALTERNATION)},e}(Pt);function he(t,e){function n(t,e){return Object(r.O)(t,(function(t,n,i){if(i!==e){var o=Object(r.I)(n,(function(t){return t.partialPath}));return t.concat(o)}return t}),[])}function i(t,e){return void 0===Object(r.q)(t,(function(t){return Object(r.o)(e,(function(e,n){return i=e,r=t[n],i===r||i&&r&&(i.categoryMatchesMap[r.tokenTypeIdx]||r.categoryMatchesMap[i.tokenTypeIdx]);var i,r}))}))}function o(t){for(var e=[],n=0;n<t;n++)e.push([]);return e}for(var a=Object(r.I)(t,(function(t){return ie([t],1)})),s=o(a.length),c=a,u=1;u<=e;u++){var h=c;c=o(h.length);for(var p=0;p<h.length;p++)for(var l=h[p],f=n(h,p),d=0;d<l.length;d++){var E=l[d].partialPath,O=l[d].suffixDef;if(i(f,E)||Object(r.A)(O)||E.length===e){var m=s[p];fe(m,E)||m.push(E)}else{var y=ie(O,u+1,E);c[p]=c[p].concat(y)}}}return s}function pe(t,e,n){var i=new ue(t,ae.ALTERNATION);return e.accept(i),he(i.result,n)}function le(t,e,n,i){var r=new ue(t,n);e.accept(r);var o=r.result,a=new ce(e,t,n).startWalking();return he([new At({definition:o}),new At({definition:a})],i)}function fe(t,e){return void 0!==Object(r.q)(t,(function(t){return e.length===t.length&&Object(r.o)(e,(function(e,n){return e===t[n]||t[n].categoryMatchesMap[e.tokenTypeIdx]}))}))}function de(t){return Object(r.o)(t,(function(t){return Object(r.o)(t,(function(t){return Object(r.o)(t,(function(t){return Object(r.A)(t.categoryMatches)}))}))}))}var Ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Oe(t,e,n,i,o,a){var s=r.I(t,(function(t){return function(t,e){var n=new Te;t.accept(n);var i=n.allProductions,o=r.v(i,me),a=r.N(o,(function(t){return t.length>1}));return r.I(r.T(a),(function(n){var i=r.s(n),o=e.buildDuplicateFoundError(t,n),a=jt(i),s={message:o,type:En.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:a,occurrence:i.idx},c=ye(i);return c&&(s.parameter=c),s}))}(t,o)})),c=r.I(t,(function(t){return function t(e,n,i,o){void 0===o&&(o=[]);var a=[];var s=function t(e){var n=[];if(r.A(e))return n;var i=r.s(e);if(i instanceof Tt)n.push(i.referencedRule);else if(i instanceof At||i instanceof vt||i instanceof gt||i instanceof Rt||i instanceof Lt||i instanceof St)n=n.concat(t(i.definition));else if(i instanceof It)n=r.t(r.I(i.definition,(function(e){return t(e.definition)})));else if(!(i instanceof _t))throw Error("non exhaustive match");var o=xt(i);var a=e.length>1;if(o&&a){var s=r.m(e);return n.concat(t(s))}return n}(n.definition);if(r.A(s))return[];var c=e.name;r.j(s,e)&&a.push({message:i.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:En.LEFT_RECURSION,ruleName:c});var u=r.l(s,o.concat([e])),h=r.I(u,(function(n){var a=r.g(o);return a.push(n),t(e,n,i,a)}));return a.concat(r.t(h))}(t,t,o)})),u=[],h=[],p=[];Object(r.o)(c,r.A)&&(u=Object(r.I)(t,(function(t){return function(t,e){var n=new ve;t.accept(n);var i=n.alternations;return r.O(i,(function(n,i){var o=r.n(i.definition),a=r.I(o,(function(n,o){var a=re([n],[],null,1);return r.A(a)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:o}),type:En.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:o+1}:null}));return n.concat(r.i(a))}),[])}(t,o)})),h=Object(r.I)(t,(function(t){return function(t,e,n,i){var o=new ve;t.accept(o);var a=o.alternations,s=n[t.name];s&&(a=Object(r.P)(a,(function(t){return s[jt(t)+(0===t.idx?"":t.idx)]})));return a=Object(r.P)(a,(function(t){return!0===t.ignoreAmbiguities})),r.O(a,(function(n,o){var a=pe(o.idx,t,e),s=function(t,e,n,i){var o=[],a=Object(r.O)(t,(function(n,i,a){return!0===e.definition[a].ignoreAmbiguities?n:(Object(r.u)(i,(function(i){var s=[a];Object(r.u)(t,(function(t,n){a!==n&&fe(t,i)&&!0!==e.definition[n].ignoreAmbiguities&&s.push(n)})),s.length>1&&!fe(o,i)&&(o.push(i),n.push({alts:s,path:i}))})),n)}),[]);return r.I(a,(function(t){var o=Object(r.I)(t.alts,(function(t){return t+1}));return{message:i.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:En.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}))}(a,o,t,i),c=function(t,e,n,i){var o=[],a=Object(r.O)(t,(function(t,e,n){var i=Object(r.I)(e,(function(t){return{idx:n,path:t}}));return t.concat(i)}),[]);return Object(r.u)(a,(function(t){if(!0!==e.definition[t.idx].ignoreAmbiguities){var s=t.idx,c=t.path,u=Object(r.r)(a,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<s&&(n=t.path,i=c,n.length<i.length&&Object(r.o)(n,(function(t,e){var n=i[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,i})),h=Object(r.I)(u,(function(t){var r=[t.idx+1,s+1],o=0===e.idx?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:r,prefixPath:t.path}),type:En.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:r}}));o=o.concat(h)}})),o}(a,o,t,i);return n.concat(s,c)}),[])}(t,e,i,o)})),p=function(t,e,n){var i=[];return Object(r.u)(t,(function(t){var o=new ge;t.accept(o);var a=o.allProductions;Object(r.u)(a,(function(o){var a=function(t){if(t instanceof vt)return ae.OPTION;if(t instanceof St)return ae.REPETITION;if(t instanceof gt)return ae.REPETITION_MANDATORY;if(t instanceof Rt)return ae.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Lt)return ae.REPETITION_WITH_SEPARATOR;if(t instanceof It)return ae.ALTERNATION;throw Error("non exhaustive match")}(o),s=le(o.idx,t,a,e)[0];if(Object(r.A)(Object(r.t)(s))){var c=n.buildEmptyRepetitionError({topLevelRule:t,repetition:o});i.push({message:c,type:En.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),i}(t,e,o));var l=function(t,e,n){var i=[],o=Object(r.I)(e,(function(t){return it(t)}));return Object(r.u)(t,(function(t){var e=t.name;if(Object(r.j)(o,e)){var a=n.buildNamespaceConflictError(t);i.push({message:a,type:En.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),i}(t,n,o),f=r.I(n,(function(t){return function(t,e){var n=[];it(t).match(Ne)||n.push({message:e.buildTokenNameError({tokenType:t,expectedPattern:Ne}),type:En.INVALID_TOKEN_NAME});return n}(t,o)})),d=function(t,e){var n=[];return Object(r.u)(t,(function(t){var i=new $t("");t.accept(i);var o=Object(r.I)(i.result,(function(t){return t.orgProd}));n.push(Object(r.I)(o,(function(n){return function(t,e,n){var i,r=[];e.name.match(Ae)||(i=n.buildInvalidNestedRuleNameError(t,e),r.push({message:i,type:En.INVALID_NESTED_RULE_NAME,ruleName:t.name}));return r}(t,n,e)})))})),Object(r.t)(n)}(t,o),E=function(t,e){var n=[];return Object(r.u)(t,(function(t){var i=new $t("");t.accept(i);var o=Object(r.v)(i.result,(function(t){return t.name})),a=Object(r.N)(o,(function(t){return t.length>1}));Object(r.u)(Object(r.T)(a),(function(i){var o=Object(r.I)(i,(function(t){return t.orgProd})),a=e.buildDuplicateNestedRuleNameError(t,o);n.push({message:a,type:En.DUPLICATE_NESTED_NAME,ruleName:t.name})}))})),n}(t,o),O=Object(r.I)(t,(function(t){return function(t,e){var n=new ve;t.accept(n);var i=n.alternations;return r.O(i,(function(n,i){return i.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:En.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}),n}),[])}(t,o)})),m=Object(r.I)(t,(function(t){return function(t,e){var n=[],i=t.name;i.match(Ne)||n.push({message:e.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:Ne}),type:En.INVALID_RULE_NAME,ruleName:i});return n}(t,o)})),y=Object(r.I)(t,(function(e){return function(t,e,n,i){var o=[];if(Object(r.O)(e,(function(e,n){return n.name===t.name?e+1:e}),0)>1){var a=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});o.push({message:a,type:En.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}(e,t,a,o)}));return r.t(s.concat(f,d,E,p,c,u,h,l,O,m,y))}function me(t){return jt(t)+"_#_"+t.idx+"_#_"+ye(t)}function ye(t){return t instanceof _t?it(t.terminalType):t instanceof Tt?t.nonTerminalName:""}var Te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return Ee(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(Pt),Ne=/^[a-zA-Z_]\w*$/,Ae=new RegExp(Ne.source.replace("^","^\\$"));var ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return Ee(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(Pt);var ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return Ee(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(Pt);var Re={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.previous,t.ruleName;return"Expecting "+(nt(e)?"--\x3e "+et(e)+" <--":"token of type --\x3e "+it(e)+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,i=(t.previous,t.customUserDescription),o=(t.ruleName,"\nbut found: '"+Object(r.s)(n).image+"'");if(i)return"Expecting: "+i+o;var a=Object(r.O)(e,(function(t,e){return t.concat(e)}),[]),s=Object(r.I)(a,(function(t){return"["+Object(r.I)(t,(function(t){return et(t)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(r.I)(s,(function(t,e){return"  "+(e+1)+". "+t})).join("\n"))+o},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,i=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+Object(r.s)(n).image+"'");return i?"Expecting: "+i+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(r.I)(e,(function(t){return"["+Object(r.I)(t,(function(t){return et(t)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(Re);var Se={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},Le={buildDuplicateFoundError:function(t,e){var n,i=t.name,o=Object(r.s)(e),a=o.idx,s=jt(o),c=(n=o)instanceof _t?it(n.terminalType):n instanceof Tt?n.nonTerminalName:"",u="->"+s+"<- with numerical suffix: ->"+a+"<-\n                  "+(c?"and argument: ->"+c+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+i+"<-.\n                  "+(0===a?"Also note that numerical suffix 0 means "+s+" without any suffix.":"")+"\n                  To fix this make sure each usage of "+s+" "+(c?"with the argument: ->"+c+"<-":"")+"\n                  in the rule ->"+i+"<- has a different occurrence index (0-5), as that combination acts as a unique\n                  position key in the grammar, which is needed by the parsing engine.\n                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return u=(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildInvalidNestedRuleNameError:function(t,e){return"Invalid nested rule name: ->"+e.name+"<- inside rule: ->"+t.name+"<-\nit must match the pattern: ->"+Ae.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign."},buildDuplicateNestedRuleNameError:function(t,e){return"Duplicate nested rule name: ->"+Object(r.s)(e).name+"<- inside rule: ->"+t.name+"<-\nA nested name must be unique in the scope of a top level grammar rule."},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=Object(r.I)(t.prefixPath,(function(t){return et(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=Object(r.I)(t.prefixPath,(function(t){return et(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,i="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return i+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=jt(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+it(t.tokenType)+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+r.I(t.leftRecursionPath,(function(t){return t.name})).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof Nt?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}},Ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var _e=function(t){function e(e,n){var i=t.call(this)||this;return i.nameToTopRule=e,i.errMsgProvider=n,i.errors=[],i}return Ie(e,t),e.prototype.resolveRefs=function(){var t=this;Object(r.u)(Object(r.T)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:En.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(Pt);function Ce(t){t=Object(r.k)(t,{errMsgProvider:Se});var e,n,i,o={};return Object(r.u)(t.rules,(function(t){o[t.name]=t})),e=o,n=t.errMsgProvider,(i=new _e(e,n)).resolveRefs(),i.errors}function be(t){return Oe((t=Object(r.k)(t,{errMsgProvider:Le,ignoredIssues:{}})).rules,t.maxLookahead,t.tokenTypes,t.ignoredIssues,t.errMsgProvider,t.grammarName)}function Me(t){Object(r.u)(t.rules,(function(t){var e=new Dt;t.accept(e),Object(r.u)(e.dslMethods,(function(t){Object(r.u)(t,(function(t,e){t.idx=e+1}))}))}))}var ke="MismatchedTokenException",Pe="NoViableAltException",Ue="EarlyExitException",xe="NotAllInputParsedException",je=[ke,Pe,Ue,xe];function De(t){return Object(r.j)(je,t.name)}function we(t,e,n){this.name=ke,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function Fe(t,e,n){this.name=Pe,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function Be(t,e){this.name=xe,this.message=t,this.token=e,this.resyncedTokens=[]}function Ge(t,e,n){this.name=Ue,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(je),we.prototype=Error.prototype,Fe.prototype=Error.prototype,Be.prototype=Error.prototype,Ge.prototype=Error.prototype;var Ke={},Ye="InRuleRecoveryException";function Ve(t){this.name=Ye,this.message=t}Ve.prototype=Error.prototype;var We=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(r.w)(t,"recoveryEnabled")?t.recoveryEnabled:On.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=He)},t.prototype.getTokenToInsert=function(t){var e=Et(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,i){for(var o=this,a=this.findReSyncTokenType(),s=this.exportLexerState(),c=[],u=!1,h=this.LA(1),p=this.LA(1),l=function(){var t=o.LA(0),e=new we(o.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:h,previous:t,ruleName:o.getCurrRuleFullName()}),h,o.LA(0));e.resyncedTokens=Object(r.n)(c),o.SAVE_ERROR(e)};!u;){if(this.tokenMatcher(p,i))return void l();if(n.call(this))return l(),void t.apply(this,e);this.tokenMatcher(p,a)?u=!0:(p=this.SKIP_TOKEN(),this.addToResyncTokens(p,c))}this.importLexerState(s)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Ve("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(Object(r.A)(e))return!1;var i=this.LA(1);return void 0!==Object(r.q)(e,(function(t){return n.tokenMatcher(i,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return Object(r.j)(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var i=e.tokenType;if(Object(r.j)(t,i))return i;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return Ke;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(r.A)(this.LAST_EXPLICIT_RULE_STACK)||(e=Object(r.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_STACK[e]})),n=Object(r.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_OCCURRENCE_STACK[e]}))),Object(r.I)(e,(function(i,r){return 0===r?Ke:{ruleName:t.shortRuleNameToFullName(i),idxInCallingRule:n[r],inRule:t.shortRuleNameToFullName(e[r-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=Object(r.I)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return Object(r.t)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===Ke)return[dt];var e=t.ruleName+t.idxInCallingRule+Ft+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,dt)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Object(r.n)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,i,r,o,a){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(r.g)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return Object(r.A)(this.LAST_EXPLICIT_RULE_STACK)?Object(r.I)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)})):Object(r.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.shortRuleNameToFullName(t.RULE_STACK[e])}))},t}();function He(t,e,n,i,r,o,a){var s=this.getKeyForAutomaticLookahead(i,r),c=this.firstAfterRepMap[s];if(void 0===c){var u=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[u],r).startWalking(),this.firstAfterRepMap[s]=c}var h=c.token,p=c.occurrence,l=c.isEndOfRule;1===this.RULE_STACK.length&&l&&void 0===h&&(h=dt,p=1),this.shouldInRepetitionRecoveryBeTried(h,p,a)&&this.tryInRepetitionRecovery(t,e,n,h)}var ze,Xe=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Object(r.w)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:On.dynamicTokensEnabled,this.maxLookahead=Object(r.w)(t,"maxLookahead")?t.maxLookahead:On.maxLookahead,this.lookAheadFuncsCache=Object(r.z)()?new Map:[],Object(r.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return function(t,e,n){var i=Object(r.o)(t,(function(t){return 1===t.length})),o=t.length;if(i&&!n){var a=Object(r.t)(t);if(1===a.length&&Object(r.A)(a[0].categoryMatches)){var s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}var c=Object(r.O)(a,(function(t,e,n){return t[e.tokenTypeIdx]=!0,Object(r.u)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===c[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<o;n++){for(var i=t[n],r=i.length,a=0;a<r;a++){var s=this.LA(a+1);if(!1===e(s,i[a]))continue t}return!0}return!1}}(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,i){return function(t,e,n,i){var o=t.length,a=Object(r.o)(t,(function(t){return Object(r.o)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var i=Object(r.I)(e,(function(t){return t.GATE})),a=0;a<o;a++){var s=t[a],c=s.length,u=i[a];if(void 0===u||!1!==u.call(this))t:for(var h=0;h<c;h++){for(var p=s[h],l=p.length,f=0;f<l;f++){var d=this.LA(f+1);if(!1===n(d,p[f]))continue t}return a}}};if(a&&!i){var s=Object(r.I)(t,(function(t){return Object(r.t)(t)})),c=Object(r.O)(s,(function(t,e,n){return Object(r.u)(e,(function(e){Object(r.w)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),Object(r.u)(e.categoryMatches,(function(e){Object(r.w)(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return c[t.tokenTypeIdx]}}return function(){for(var e=0;e<o;e++){var i=t[e],r=i.length;t:for(var a=0;a<r;a++){for(var s=i[a],c=s.length,u=0;u<c;u++){var h=this.LA(u+1);if(!1===n(h,s[u]))continue t}return e}}}}(t,e,n,i)},t.prototype.getKeyForAutomaticLookahead=function(t,e){return Kt(this.getLastExplicitRuleShortName(),t,e)},t.prototype.getLookaheadFuncForOr=function(t,e){var n=this.getKeyForAutomaticLookahead(16,t),i=this.getLaFuncFromCache(n);if(void 0===i){var o=this.getCurrRuleFullName(),a=this.getGAstProductions()[o],s=Object(r.Q)(e,(function(t){return Object(r.B)(t.GATE)}));return i=function(t,e,n,i,r,o){var a=pe(t,e,n);return o(a,i,de(a)?V:Y,r)}(t,a,this.maxLookahead,s,this.dynamicTokensEnabled,this.lookAheadBuilderForAlternatives),this.setLaFuncCache(n,i),i}return i},t.prototype.getLookaheadFuncForOption=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,ae.OPTION)},t.prototype.getLookaheadFuncForMany=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,ae.REPETITION)},t.prototype.getLookaheadFuncForManySep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,ae.REPETITION_WITH_SEPARATOR)},t.prototype.getLookaheadFuncForAtLeastOne=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,ae.REPETITION_MANDATORY)},t.prototype.getLookaheadFuncForAtLeastOneSep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,ae.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.getLookaheadFuncFor=function(t,e,n,i){var r=this.getLaFuncFromCache(t);if(void 0===r){var o=this.getCurrRuleFullName();return r=function(t,e,n,i,r,o){var a=le(t,e,r,n),s=de(a)?V:Y;return o(a[0],s,i)}(e,this.getGAstProductions()[o],n,this.dynamicTokensEnabled,i,this.lookAheadBuilderForOptional),this.setLaFuncCache(t,r),r}return r},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();function $e(t,e){for(var n=Object(r.G)(t),i=n.length,o=0;o<i;o++)for(var a=t[n[o]],s=a.length,c=0;c<s;c++){var u=a[c];void 0===u.tokenTypeIdx&&(void 0!==u.fullName?this[u.fullName](u.children,e):this[u.name](u.children,e))}}function qe(t,e){var n=function(){};return c(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(Object(r.y)(t)&&(t=t[0]),!Object(r.F)(t))return void 0!==t.fullName?this[t.fullName](t.children,e):this[t.name](t.children,e)},validateVisitor:function(){var t=function(t,e){var n=function(t,e){var n=Object(r.I)(e,(function(e){if(!Object(r.B)(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+s(t.constructor)+" CST Visitor.",type:ze.MISSING_METHOD,methodName:e}}));return Object(r.i)(n)}(t,e),i=function(t,e){var n=[];for(var i in t)Ne.test(i)&&Object(r.B)(t[i])&&!Object(r.j)(Je,i)&&!Object(r.j)(e,i)&&n.push({msg:"Redundant visitor method: <"+i+"> on "+s(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+Ne.source+"/.",type:ze.REDUNDANT_METHOD,methodName:i});return n}(t,e);return n.concat(i)}(this,e);if(!Object(r.A)(t)){var n=Object(r.I)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+s(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n}!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(ze||(ze={}));var Je=["constructor","visit","validateVisitor"];var Ze=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=Object(r.w)(t,"outputCst")?t.outputCst:On.outputCst,this.nodeLocationTracking=Object(r.w)(t,"nodeLocationTracking")?t.nodeLocationTracking:On.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=zt,this.setNodeLocationFromNode=zt,this.cstPostRule=r.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=r.b,this.setNodeLocationFromNode=r.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ht,this.setNodeLocationFromNode=Ht,this.cstPostRule=r.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=r.b,this.setNodeLocationFromNode=r.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=r.b,this.setNodeLocationFromNode=r.b,this.cstPostRule=r.b,this.setInitialNodeLocation=r.b}else this.cstInvocationStateUpdate=r.b,this.cstFinallyStateUpdate=r.b,this.cstPostTerminal=r.b,this.cstPostNonTerminal=r.b,this.cstPostRule=r.b,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstNestedInvocationStateUpdate=function(t,e){var n={name:t,fullName:this.shortRuleNameToFull[this.getLastExplicitRuleShortName()]+t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstInvocationStateUpdate=function(t,e){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},t.prototype.cstNestedFinallyStateUpdate=function(){var t=this.CST_STACK.pop();this.cstPostRule(t)},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n,i,r,o=this.CST_STACK[this.CST_STACK.length-1];i=e,r=t,void 0===(n=o).children[r]?n.children[r]=[i]:n.children[r].push(i),this.setNodeLocationFromToken(o.location,e)},t.prototype.cstPostNonTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];Xt(n,e,t),this.setNodeLocationFromNode(n.location,t.location)},t.prototype.getBaseCstVisitorConstructor=function(){if(Object(r.F)(this.baseCstVisitorConstructor)){var t=qe(this.className,this.allRuleNames);return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(r.F)(this.baseCstVisitorWithDefaultsConstructor)){var t=function(t,e,n){var i=function(){};c(i,t+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(r.u)(e,(function(t){o[t]=$e})),(i.prototype=o).constructor=i,i}(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.nestedRuleBeforeClause=function(t,e){var n;return void 0!==t.NAME?(n=t.NAME,this.nestedRuleInvocationStateUpdate(n,e),n):void 0},t.prototype.nestedAltBeforeClause=function(t,e,n,i){var r,o=Vt(this.getLastExplicitRuleShortName(),n,e,i);return void 0!==t.NAME?(r=t.NAME,this.nestedRuleInvocationStateUpdate(r,o),{shortName:o,nestedName:r}):void 0},t.prototype.nestedRuleFinallyClause=function(t,e){var n=this.CST_STACK,i=n[n.length-1];this.nestedRuleFinallyStateUpdate();var r=n[n.length-1];Xt(r,e,i),this.setNodeLocationFromNode(r.location,i.location)},t.prototype.getLastExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[t]},t.prototype.getLastExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[t]},t.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[t]},t.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t.prototype.nestedRuleInvocationStateUpdate=function(t,e){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(e),this.cstNestedInvocationStateUpdate(t,e)},t.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},t}(),Qe=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):dn},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?dn:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}(),tn=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=mn),Object(r.j)(this.definedRulesNames,t)){var i={message:Le.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:En.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(i)}this.definedRulesNames.push(t);var o=this.defineRule(t,e,n);return this[t]=o,o},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=mn);var i,o,a,s,c,u=[];u=u.concat((i=t,o=this.definedRulesNames,a=this.className,c=[],r.j(o,i)||(s="Invalid rule override, rule: ->"+i+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:s,type:En.INVALID_RULE_OVERRIDE,ruleName:i})),c)),this.definitionErrors.push.apply(this.definitionErrors,u);var h=this.defineRule(t,e,n);return this[t]=h,h},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(De(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return Ct(Object(r.T)(this.gastProductionsCache))},t}(),en=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=s(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=V,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(r.w)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(r.y)(t)){if(Object(r.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(r.y)(t))this.tokensMap=Object(r.O)(t,(function(t,e){return t[it(e)]=e,t}),{});else if(Object(r.w)(t,"modes")&&Object(r.o)(Object(r.t)(Object(r.T)(t.modes)),q)){var n=Object(r.t)(Object(r.T)(t.modes)),i=Object(r.S)(n);this.tokensMap=Object(r.O)(i,(function(t,e){return t[it(e)]=e,t}),{})}else{if(!Object(r.C)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(r.h)(t)}this.tokensMap.EOF=dt;var o=Object(r.o)(Object(r.T)(t),(function(t){return Object(r.A)(t.categoryMatches)}));this.tokenMatcher=o?V:Y,z(Object(r.T)(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var i,o=Object(r.w)(n,"resyncEnabled")?n.resyncEnabled:mn.resyncEnabled,a=Object(r.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:mn.recoveryValueFunc,s=this.ruleShortNameIdx<<8;function c(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(t){return this.invokeRuleCatch(t,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s;return(i=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(s,t,e),c.call(this,n)}).ruleName=t,i.originalGrammarAction=e,i},t.prototype.invokeRuleCatch=function(t,e,n){var i=1===this.RULE_STACK.length,r=e&&!this.isBackTracking()&&this.recoveryEnabled;if(De(t)){var o=t;if(r){var a,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return o.resyncedTokens=this.reSyncTo(s),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(i)return this.moveToTerminatedState(),n();throw o}throw t},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(32,e),i=this.nestedRuleBeforeClause(t,n);try{return this.optionInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.optionInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(32,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var i,r,o=this,a=this.getLookaheadFuncForOption(n,e);if(void 0!==t.DEF){if(i=t.DEF,void 0!==(r=t.GATE)){var s=a;a=function(){return r.call(o)&&s.call(o)}}}else i=t;if(!0===a.call(this))return i.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(64,t),i=this.nestedRuleBeforeClause(e,n);try{return this.atLeastOneInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.atLeastOneInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(64,t);this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var i,r,o=this,a=this.getLookaheadFuncForAtLeastOne(n,t);if(void 0!==e.DEF){if(i=e.DEF,void 0!==(r=e.GATE)){var s=a;a=function(){return r.call(o)&&s.call(o)}}}else i=e;if(!0!==a.call(this))throw this.raiseEarlyExitException(t,ae.REPETITION_MANDATORY,e.ERR_MSG);for(var c=this.doSingleRepetition(i);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],a,64,t,ee)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(96,t),i=this.nestedRuleBeforeClause(e,n);try{this.atLeastOneSepFirstInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.atLeastOneSepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(96,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var i=this,r=e.DEF,o=e.SEP;if(!0!==this.getLookaheadFuncForAtLeastOneSep(n,t).call(this))throw this.raiseEarlyExitException(t,ae.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);r.call(this);for(var a=function(){return i.tokenMatcher(i.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,r,ne],a,96,t,ne)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(48,t),i=this.nestedRuleBeforeClause(e,n);try{return this.manyInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.manyInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(48,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var i,r,o=this,a=this.getLookaheadFuncForMany(n,t);if(void 0!==e.DEF){if(i=e.DEF,void 0!==(r=e.GATE)){var s=a;a=function(){return r.call(o)&&s.call(o)}}}else i=e;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],a,48,t,Qt,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(80,t),i=this.nestedRuleBeforeClause(e,n);try{this.manySepFirstInternalLogic(t,e,n)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.manySepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(80,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var i=this,r=e.DEF,o=e.SEP;if(!0===this.getLookaheadFuncForManySep(n,t).call(this)){r.call(this);for(var a=function(){return i.tokenMatcher(i.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,r,te],a,80,t,te)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,i,r){for(;n();)this.CONSUME(e),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,i,r],n,96,t,r)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternalNoCst=function(t,e){var n=Object(r.y)(t)?t:t.DEF,i=this.getLookaheadFuncForOr(e,n).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(16,e),i=this.nestedRuleBeforeClause(t,n);try{var o=Object(r.y)(t)?t:t.DEF,a=this.getLookaheadFuncForOr(e,o).call(this,o);if(void 0!==a){var s=o[a],c=this.nestedAltBeforeClause(s,e,16,a);try{return s.ALT.call(this)}finally{void 0!==c&&this.nestedRuleFinallyClause(c.shortName,c.nestedName)}}this.raiseNoAltException(e,t.ERR_MSG)}finally{void 0!==i&&this.nestedRuleFinallyClause(n,i)}},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Be(e,t))}},t.prototype.subruleInternal=function(t,e,n){var i;try{var r=void 0!==n?n.ARGS:void 0;return i=t.call(this,e,r),this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),i}catch(e){this.subruleInternalError(e,n,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,n){throw De(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,n){var i;try{var r=this.LA(1);!0===this.tokenMatcher(r,t)?(this.consumeToken(),i=r):this.consumeInternalError(t,r,n)}catch(n){i=this.consumeInternalRecovery(t,e,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.tokenName,i),i},t.prototype.consumeInternalError=function(t,e,n){var i,r=this.LA(0);throw i=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new we(i,e,r))},t.prototype.consumeInternalRecovery=function(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var i=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,i)}catch(t){throw t.name===Ye?n:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=Object(r.g)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return!Object(r.A)(this.isBackTrackingStack)},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),dt)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}(),nn=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Object(r.k)(t.errorMessageProvider,On.errorMessageProvider)},t.prototype.SAVE_ERROR=function(t){if(De(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(r.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return Object(r.g)(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var i=this.getCurrRuleFullName(),r=le(t,this.getGAstProductions()[i],e,this.maxLookahead)[0],o=[],a=1;a<this.maxLookahead;a++)o.push(this.LA(a));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:r,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Ge(s,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),i=pe(t,this.getGAstProductions()[n],this.maxLookahead),r=[],o=1;o<=this.maxLookahead;o++)r.push(this.LA(o));var a=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:r,previous:a,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Fe(s,this.LA(1),a))},t}(),rn=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache[t];if(Object(r.F)(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return re([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=Object(r.s)(t.ruleStack),n=this.getGAstProductions()[e];return new Jt(n,t).startWalking()},t}(),on={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(on);var an=ft({name:"RECORDING_PHASE_TOKEN",pattern:tt.NA});z([an]);var sn=Et(an,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(sn);var cn={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},un=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){this.RECORDING_PHASE=!0;for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},e=this,n=0;n<10;n++)t(n);this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD},t.prototype.disableRecording=function(){this.RECORDING_PHASE=!1;for(var t=0;t<10;t++){var e=t>0?t:"";delete this["CONSUME"+e],delete this["SUBRULE"+e],delete this["OPTION"+e],delete this["OR"+e],delete this["MANY"+e],delete this["MANY_SEP"+e],delete this["AT_LEAST_ONE"+e],delete this["AT_LEAST_ONE_SEP"+e]}delete this.ACTION,delete this.BACKTRACK,delete this.LA},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return dn},t.prototype.topLevelRuleRecord=function(t,e){try{var n=new Nt({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(t){throw!0!==t.KNOWN_RECORDER_ERROR&&(t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'),t}},t.prototype.optionInternalRecord=function(t,e){return hn.call(this,vt,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){hn.call(this,gt,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){hn.call(this,Rt,e,t,!0)},t.prototype.manyInternalRecord=function(t,e){hn.call(this,St,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){hn.call(this,Lt,e,t,!0)},t.prototype.orInternalRecord=function(t,e){return pn.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,n){if(!t||!1===Object(r.w)(t,"ruleName")){var i=new Error("<SUBRULE"+ln(e)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw i.KNOWN_RECORDER_ERROR=!0,i}var o=Object(r.M)(this.recordingProdStack),a=t.ruleName,s=new Tt({idx:e,nonTerminalName:a,referencedRule:void 0});return o.definition.push(s),this.outputCst?cn:on},t.prototype.consumeInternalRecord=function(t,e,n){if(!X(t)){var i=new Error("<CONSUME"+ln(e)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw i.KNOWN_RECORDER_ERROR=!0,i}var o=Object(r.M)(this.recordingProdStack),a=new _t({idx:e,terminalType:t});return o.definition.push(a),sn},t}();function hn(t,e,n,i){void 0===i&&(i=!1);var o=Object(r.M)(this.recordingProdStack),a=Object(r.B)(e)?e:e.DEF,s=new t({definition:[],idx:n});return Object(r.w)(e,"NAME")&&(s.name=e.NAME),i&&(s.separator=e.SEP),this.recordingProdStack.push(s),a.call(this),o.definition.push(s),this.recordingProdStack.pop(),on}function pn(t,e){var n=this,i=Object(r.M)(this.recordingProdStack),o=!1===Object(r.y)(t),a=!1===o?t:t.DEF,s=new It({definition:[],idx:e,ignoreAmbiguities:o&&!0===t.IGNORE_AMBIGUITIES});return Object(r.w)(t,"NAME")&&(s.name=t.NAME),i.definition.push(s),Object(r.u)(a,(function(t){var e=new At({definition:[]});s.definition.push(e),Object(r.w)(t,"NAME")&&(e.name=t.NAME),Object(r.w)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:Object(r.w)(t,"GATE")&&(e.ignoreAmbiguities=!0),n.recordingProdStack.push(e),t.ALT.call(n),n.recordingProdStack.pop()})),on}function ln(t){return 0===t?"":""+t}var fn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=Et(dt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(dn);var En,On=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Re,nodeLocationTracking:"none"}),mn=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function yn(t){return void 0===t&&(t=void 0),function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.INVALID_NESTED_RULE_NAME=10]="INVALID_NESTED_RULE_NAME",t[t.DUPLICATE_NESTED_NAME=11]="DUPLICATE_NESTED_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=12]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=13]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=14]="TOO_MANY_ALTS"}(En||(En={}));var Tn=function(){function t(t,e){void 0===e&&(e=On),this.ignoredIssues=On.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1;this.initErrorHandler(e),this.initLexerAdapter(),this.initLooksAhead(e),this.initRecognizerEngine(t,e),this.initRecoverable(e),this.initTreeBuilder(e),this.initContentAssist(),this.initGastRecorder(e),Object(r.w)(e,"ignoredIssues")&&e.ignoredIssues!==On.ignoredIssues&&Object(r.d)("The <ignoredIssues> IParserConfig property is soft-deprecated and will be removed in future versions.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead."),this.ignoredIssues=Object(r.w)(e,"ignoredIssues")?e.ignoredIssues:On.ignoredIssues}return t.performSelfAnalysis=function(t){t.performSelfAnalysis()},t.prototype.performSelfAnalysis=function(){var e,n=this;this.selfAnalysisDone=!0;var i=this.className;Object(r.R)(this);try{this.enableRecording(),Object(r.u)(this.definedRulesNames,(function(t){var e=n[t].originalGrammarAction,i=n.topLevelRuleRecord(t,e);n.gastProductionsCache[t]=i}))}finally{this.disableRecording()}var o,a,s=Ce({rules:Object(r.T)(this.gastProductionsCache)});if(this.definitionErrors.push.apply(this.definitionErrors,s),Object(r.A)(s)){var c=be({rules:Object(r.T)(this.gastProductionsCache),maxLookahead:this.maxLookahead,tokenTypes:Object(r.T)(this.tokensMap),ignoredIssues:this.ignoredIssues,errMsgProvider:Le,grammarName:i});this.definitionErrors.push.apply(this.definitionErrors,c)}if(Object(r.A)(this.definitionErrors)){var u=(o=Object(r.T)(this.gastProductionsCache),a={},Object(r.u)(o,(function(t){var e=new Gt(t).startWalking();Object(r.f)(a,e)})),a);this.resyncFollows=u}var h,p,l,f=(h=Object(r.T)(this.gastProductionsCache),p=this.fullRuleNameToShort,l={allRuleNames:[]},Object(r.u)(h,(function(t){var e=p[t.name];l.allRuleNames.push(t.name);var n=new $t(e);t.accept(n),Object(r.u)(n.result,(function(e){e.def,e.key;var n=e.name;l.allRuleNames.push(t.name+n)}))})),l);if(this.allRuleNames=f.allRuleNames,!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(r.A)(this.definitionErrors))throw e=Object(r.I)(this.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+e.join("\n-------------------------------\n"))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();Object(r.e)(Tn,[We,Xe,Ze,Qe,en,tn,nn,rn,un]);var Nn=function(t){function e(e,n){void 0===n&&(n=On);var i=Object(r.h)(n);return i.outputCst=!0,t.call(this,e,i)||this}return fn(e,t),e}(Tn),An=function(t){function e(e,n){void 0===n&&(n=On);var i=Object(r.h)(n);return i.outputCst=!1,t.call(this,e,i)||this}return fn(e,t),e}(Tn);function vn(t,e){var n=void 0===e?{}:e,r=n.resourceBase,o=void 0===r?"https://unpkg.com/chevrotain@"+i+"/diagrams/":r,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+i+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var gn="\n";function Rn(t){var e;return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(e=t.rules,Object(r.I)(e,(function(t){return i=bn(n=1,'$.RULE("'+(e=t).name+'", function() {')+gn,i+=Cn(e.definition,n+1),i+=bn(n+1,"})")+gn;var e,n,i})).join("\n"))+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function Sn(t,e){var n=bn(e,"$.OR"+t.idx+"([")+gn,i=Object(r.I)(t.definition,(function(t){return function(t,e){var n=bn(e,"{")+gn;t.name&&(n+=bn(e+1,'NAME: "'+t.name+'",')+gn);return n+=bn(e+1,"ALT: function() {")+gn,n+=Cn(t.definition,e+1),n+=bn(e+1,"}")+gn,n+=bn(e,"}")}(t,e+1)}));return n+=i.join(","+gn),n+=gn+bn(e,"])"+gn)}function Ln(t,e){if(t instanceof Tt)return function(t,e){return bn(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+gn)}(t,e);if(t instanceof vt)return In("OPTION",t,e);if(t instanceof gt)return In("AT_LEAST_ONE",t,e);if(t instanceof Rt)return In("AT_LEAST_ONE_SEP",t,e);if(t instanceof Lt)return In("MANY_SEP",t,e);if(t instanceof St)return In("MANY",t,e);if(t instanceof It)return Sn(t,e);if(t instanceof _t)return function(t,e){var n=it(t.terminalType);return bn(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+gn)}(t,e);if(t instanceof At)return Cn(t.definition,e);throw Error("non exhaustive match")}function In(t,e,n){var i=bn(n,"$."+(t+e.idx)+"(");return e.name||e.separator?(i+="{"+gn,e.name&&(i+=bn(n+1,'NAME: "'+e.name+'"')+","+gn),e.separator&&(i+=bn(n+1,"SEP: this.tokensMap."+it(e.separator))+","+gn),i+="DEF: "+_n(e.definition,n+2)+gn,i+=bn(n,"}")+gn):i+=_n(e.definition,n+1),i+=bn(n,")")+gn}function _n(t,e){var n="function() {"+gn;return n+=Cn(t,e),n+=bn(e,"}")+gn}function Cn(t,e){var n="";return Object(r.u)(t,(function(t){n+=Ln(t,e+1)})),n}function bn(t,e){return Array(4*t+1).join(" ")+e}function Mn(t){var e=function(t){return"    \n"+Rn(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}({name:t.name,rules:t.rules}),i=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return i(t.tokenVocabulary,e,n(2))}}function kn(t){return function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+Rn(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}({name:t.name,rules:t.rules})}function Pn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}n.d(e,"clearCache",(function(){return Pn})),n.d(e,"VERSION",(function(){return i})),n.d(e,"Parser",(function(){return Tn})),n.d(e,"CstParser",(function(){return Nn})),n.d(e,"EmbeddedActionsParser",(function(){return An})),n.d(e,"ParserDefinitionErrorType",(function(){return En})),n.d(e,"EMPTY_ALT",(function(){return yn})),n.d(e,"Lexer",(function(){return tt})),n.d(e,"LexerDefinitionErrorType",(function(){return J})),n.d(e,"createToken",(function(){return ft})),n.d(e,"createTokenInstance",(function(){return Et})),n.d(e,"EOF",(function(){return dt})),n.d(e,"tokenLabel",(function(){return et})),n.d(e,"tokenMatcher",(function(){return Ot})),n.d(e,"tokenName",(function(){return it})),n.d(e,"defaultGrammarResolverErrorProvider",(function(){return Se})),n.d(e,"defaultGrammarValidatorErrorProvider",(function(){return Le})),n.d(e,"defaultParserErrorProvider",(function(){return Re})),n.d(e,"EarlyExitException",(function(){return Ge})),n.d(e,"isRecognitionException",(function(){return De})),n.d(e,"MismatchedTokenException",(function(){return we})),n.d(e,"NotAllInputParsedException",(function(){return Be})),n.d(e,"NoViableAltException",(function(){return Fe})),n.d(e,"defaultLexerErrorProvider",(function(){return Z})),n.d(e,"Alternation",(function(){return It})),n.d(e,"Flat",(function(){return At})),n.d(e,"NonTerminal",(function(){return Tt})),n.d(e,"Option",(function(){return vt})),n.d(e,"Repetition",(function(){return St})),n.d(e,"RepetitionMandatory",(function(){return gt})),n.d(e,"RepetitionMandatoryWithSeparator",(function(){return Rt})),n.d(e,"RepetitionWithSeparator",(function(){return Lt})),n.d(e,"Rule",(function(){return Nt})),n.d(e,"Terminal",(function(){return _t})),n.d(e,"serializeGrammar",(function(){return Ct})),n.d(e,"serializeProduction",(function(){return bt})),n.d(e,"GAstVisitor",(function(){return Pt})),n.d(e,"assignOccurrenceIndices",(function(){return Me})),n.d(e,"resolveGrammar",(function(){return Ce})),n.d(e,"validateGrammar",(function(){return be})),n.d(e,"createSyntaxDiagramsCode",(function(){return vn})),n.d(e,"generateParserFactory",(function(){return Mn})),n.d(e,"generateParserModule",(function(){return kn}))},function(e,n){e.exports=t},function(t,e,n){const i=n(3),r=n(2),o=r.Lexer,a={},s=/[a-zA-Z_][a-zA-Z_\-\d]*/,c=r.createToken({name:"NAME",pattern:s}),u=r.createToken({name:"KEYWORD",pattern:o.NA,longer_alt:c,categories:c});function h(t){i.isString(t.pattern)&&s.test(t.pattern)&&(t.longer_alt=c,t.categories?t.categories.push(u):t.categories=u),i.isString(t.pattern)&&!t.label&&(t.label=`'${t.pattern}'`);const e=r.createToken(t);return a[t.name]=e,e}const p=h({name:"BOOLEAN",pattern:o.NA}),l=h({name:"CONFIG_KEY",pattern:o.NA}),f=h({name:"DEPLOYMENT_KEY",pattern:o.NA});h({name:"WHITESPACE",pattern:/[\n\t\r \u2028\u2029]+/,group:o.SKIPPED}),h({name:"JAVADOC",pattern:/\/\*\*([\s\S]*?)\*\//}),h({name:"BLOCK_COMMENT",pattern:/\/\*([\s\S]*?)\*\//,group:o.SKIPPED}),h({name:"CONFIG",pattern:"config"}),h({name:"ENTITIES",pattern:"entities"}),h({name:"BASE_NAME",pattern:"baseName",categories:[l]}),h({name:"BLUEPRINT",pattern:"blueprint",categories:[l]}),h({name:"PACKAGE_NAME",pattern:"packageName",categories:[l]}),h({name:"AUTHENTICATION_TYPE",pattern:"authenticationType",categories:[l]}),h({name:"CACHE_PROVIDER",pattern:"cacheProvider",categories:[l]}),h({name:"ENABLE_HIBERNATE_CACHE",pattern:"enableHibernateCache",categories:[l]}),h({name:"WEBSOCKET",pattern:"websocket",categories:[l]}),h({name:"DATABASE_TYPE",pattern:"databaseType",categories:[l]}),h({name:"DEV_DATABASE_TYPE",pattern:"devDatabaseType",categories:[l]}),h({name:"PROD_DATABASE_TYPE",pattern:"prodDatabaseType",categories:[l]}),h({name:"BUILD_TOOL",pattern:"buildTool",categories:[l]}),h({name:"SEARCH_ENGINE",pattern:"searchEngine",categories:[l]}),h({name:"ENABLE_TRANSLATION",pattern:"enableTranslation",categories:[l]}),h({name:"APPLICATION_TYPE",pattern:"applicationType",categories:[l]}),h({name:"APPLICATION",pattern:"application"}),h({name:"TEST_FRAMEWORKS",pattern:"testFrameworks",categories:[l]}),h({name:"UAA_BASE_NAME",pattern:"uaaBaseName",categories:[l]}),h({name:"LANGUAGES",pattern:"languages",categories:[l]}),h({name:"SERVER_PORT",pattern:"serverPort",categories:[l]}),h({name:"USE_SASS",pattern:"useSass",categories:[l]}),h({name:"JHI_PREFIX",pattern:"jhiPrefix",categories:[l]}),h({name:"JWT_SECRET_KEY",pattern:"jwtSecretKey",categories:[l]}),h({name:"JHIPSTER_VERSION",pattern:"jhipsterVersion",categories:[l]}),h({name:"MESSAGE_BROKER",pattern:"messageBroker",categories:[l]}),h({name:"SERVICE_DISCOVERY_TYPE",pattern:"serviceDiscoveryType",categories:[l,f]}),h({name:"CLIENT_PACKAGE_MANAGER",pattern:"clientPackageManager",categories:[l]}),h({name:"CLIENT_FRAMEWORK",pattern:"clientFramework",categories:[l]}),h({name:"CLIENT_THEME_VARIANT",pattern:"clientThemeVariant",categories:[l]}),h({name:"CLIENT_THEME",pattern:"clientTheme",categories:[l]}),h({name:"NATIVE_LANGUAGE",pattern:"nativeLanguage",categories:[l]}),h({name:"FRONT_END_BUILDER",pattern:"frontendBuilder",categories:[l]}),h({name:"SKIP_USER_MANAGEMENT",pattern:"skipUserManagement",categories:[l]}),h({name:"ENABLE_SWAGGER_CODEGEN",pattern:"enableSwaggerCodegen",categories:[l]}),h({name:"REACTIVE",pattern:"reactive",categories:[l]}),h({name:"ENTITY_SUFFIX",pattern:"entitySuffix",categories:[l]}),h({name:"DTO_SUFFIX",pattern:"dtoSuffix",categories:[l]}),h({name:"DEPLOYMENT_TYPE",pattern:"deploymentType",categories:[f]}),h({name:"DEPLOYMENT",pattern:"deployment"}),h({name:"GATEWAY_TYPE",pattern:"gatewayType",categories:[f]}),h({name:"MONITORING",pattern:"monitoring",categories:[f]}),h({name:"DIRECTORY_PATH",pattern:"directoryPath",categories:[f]}),h({name:"APPS_FOLDERS",pattern:"appsFolders",categories:[f]}),h({name:"CLUSTERED_DB_APPS",pattern:"clusteredDbApps",categories:[f]}),h({name:"CONSOLE_OPTIONS",pattern:"consoleOptions",categories:[f]}),h({name:"DOCKER_REPOSITORY_NAME",pattern:"dockerRepositoryName",categories:[f]}),h({name:"DOCKER_PUSH_COMMAND",pattern:"dockerPushCommand",categories:[f]}),h({name:"KUBERNETES_NAMESPACE",pattern:"kubernetesNamespace",categories:[f]}),h({name:"KUBERNETES_SERVICE_TYPE",pattern:"kubernetesServiceType",categories:[f]}),h({name:"INGRESS_DOMAIN",pattern:"ingressDomain",categories:[f]}),h({name:"ISTIO",pattern:"istio",categories:[f]}),h({name:"OPENSHIFT_NAMESPACE",pattern:"openshiftNamespace",categories:[f]}),h({name:"STORAGE_TYPE",pattern:"storageType",categories:[f]}),h({name:"TRUE",pattern:"true",categories:[p]}),h({name:"FALSE",pattern:"false",categories:[p]}),h({name:"ENTITY",pattern:"entity"}),h({name:"ENUM",pattern:"enum"}),h({name:"RELATIONSHIP",pattern:"relationship"}),h({name:"JPA_DERIVED_IDENTIFIER",pattern:"jpaDerivedIdentifier"}),h({name:"ONE_TO_ONE",pattern:"OneToOne"}),h({name:"ONE_TO_MANY",pattern:"OneToMany"}),h({name:"MANY_TO_ONE",pattern:"ManyToOne"}),h({name:"MANY_TO_MANY",pattern:"ManyToMany"}),h({name:"TO",pattern:"to"}),h({name:"ALL",pattern:/all|\*/}),h({name:"WITH",pattern:"with"}),h({name:"EXCEPT",pattern:"except"}),h({name:"CLIENT_ROOT_FOLDER",pattern:"clientRootFolder"}),h({name:"NO_FLUENT_METHOD",pattern:"noFluentMethod"}),h({name:"READ_ONLY",pattern:"readOnly"}),h({name:"DTO",pattern:"dto"}),h({name:"PAGINATE",pattern:"paginate"}),h({name:"SERVICE",pattern:"service"}),h({name:"MICROSERVICE",pattern:"microservice"}),h({name:"SEARCH",pattern:"search"}),h({name:"SKIP_CLIENT",pattern:"skipClient",categories:[l]}),h({name:"SKIP_SERVER",pattern:"skipServer",categories:[l]}),h({name:"ANGULAR_SUFFIX",pattern:"angularSuffix"}),h({name:"FILTER",pattern:"filter"}),h({name:"REQUIRED",pattern:"required"}),h({name:"UNIQUE",pattern:"unique"}),h({name:"MIN_MAX_KEYWORD",pattern:o.NA,categories:u}),h({name:"MINLENGTH",pattern:"minlength",categories:[a.MIN_MAX_KEYWORD]}),h({name:"MAXLENGTH",pattern:"maxlength",categories:[a.MIN_MAX_KEYWORD]}),h({name:"MINBYTES",pattern:"minbytes",categories:[a.MIN_MAX_KEYWORD]}),h({name:"MAXBYTES",pattern:"maxbytes",categories:[a.MIN_MAX_KEYWORD]}),h({name:"MAX",pattern:"max",categories:[a.MIN_MAX_KEYWORD]}),h({name:"MIN",pattern:"min",categories:[a.MIN_MAX_KEYWORD]}),h({name:"PATTERN",pattern:"pattern"}),h({name:"REGEX",pattern:/\/[^\n\r]*\//}),h({name:"INTEGER",pattern:/-?\d+/}),h({name:"STRING",pattern:/"(?:[^"])*"/}),h({name:"LPAREN",pattern:"("}),h({name:"RPAREN",pattern:")"}),h({name:"LCURLY",pattern:"{"}),h({name:"RCURLY",pattern:"}"}),h({name:"LSQUARE",pattern:"["}),h({name:"RSQUARE",pattern:"]"}),h({name:"COMMA",pattern:","}),h({name:"EQUALS",pattern:"="}),h({name:"DOT",pattern:"."}),h({name:"AT",pattern:"@"}),a.NAME=c;const d=new o(i.values(a),{ensureOptimizations:!0});t.exports={tokens:a,JDLLexer:d}},function(t,e,n){const i=n(2).Parser,r=n(4).tokens;let o=null;t.exports=class t extends i{static getParser(){return o||(o=new t)}constructor(){super(r)}parse(){this.prog(),this.constantDeclaration(),this.entityDeclaration(),this.annotationDeclaration(),this.entityTableNameDeclaration(),this.entityBody(),this.fieldDeclaration(),this.type(),this.validation(),this.minMaxValidation(),this.pattern(),this.relationDeclaration(),this.relationshipType(),this.relationshipBody(),this.relationshipSide(),this.relationshipOptions(),this.relationshipOption(),this.enumDeclaration(),this.enumPropList(),this.dtoDeclaration(),this.entityList(),this.exclusion(),this.paginationDeclaration(),this.serviceDeclaration(),this.searchEngineDeclaration(),this.microserviceDeclaration(),this.noClientDeclaration(),this.noServerDeclaration(),this.noFluentMethod(),this.readOnlyDeclaration(),this.clientRootFolderDeclaration(),this.filterDeclaration(),this.filterDef(),this.angularSuffixDeclaration(),this.comment(),this.deploymentDeclaration(),this.deploymentConfigDeclaration(),this.deploymentConfigValue(),this.applicationDeclaration(),this.applicationSubDeclaration(),this.applicationSubConfig(),this.applicationSubEntities(),this.applicationConfigDeclaration(),this.configValue(),this.qualifiedName(),this.list(),i.performSelfAnalysis(this)}prog(){this.RULE("prog",()=>{this.MANY(()=>{this.OR([{ALT:()=>this.SUBRULE(this.entityDeclaration)},{ALT:()=>this.SUBRULE(this.relationDeclaration)},{ALT:()=>this.SUBRULE(this.enumDeclaration)},{ALT:()=>this.SUBRULE(this.dtoDeclaration)},{ALT:()=>this.SUBRULE(this.paginationDeclaration)},{ALT:()=>this.SUBRULE(this.serviceDeclaration)},{ALT:()=>this.CONSUME(r.JAVADOC)},{ALT:()=>this.SUBRULE(this.microserviceDeclaration)},{ALT:()=>this.SUBRULE(this.searchEngineDeclaration)},{ALT:()=>this.SUBRULE(this.noClientDeclaration)},{ALT:()=>this.SUBRULE(this.noServerDeclaration)},{ALT:()=>this.SUBRULE(this.angularSuffixDeclaration)},{ALT:()=>this.SUBRULE(this.noFluentMethod)},{ALT:()=>this.SUBRULE(this.readOnlyDeclaration)},{ALT:()=>this.SUBRULE(this.filterDeclaration)},{ALT:()=>this.SUBRULE(this.clientRootFolderDeclaration)},{ALT:()=>this.SUBRULE(this.applicationDeclaration)},{ALT:()=>this.SUBRULE(this.deploymentDeclaration)},{GATE:()=>this.LA(2).tokenType===r.EQUALS,ALT:()=>this.SUBRULE(this.constantDeclaration)}])})})}constantDeclaration(){this.RULE("constantDeclaration",()=>{this.CONSUME(r.NAME),this.CONSUME(r.EQUALS),this.CONSUME(r.INTEGER)})}entityDeclaration(){this.RULE("entityDeclaration",()=>{this.OPTION(()=>{this.CONSUME(r.JAVADOC)}),this.MANY(()=>{this.SUBRULE(this.annotationDeclaration)}),this.CONSUME(r.ENTITY),this.CONSUME(r.NAME),this.OPTION1(()=>{this.SUBRULE(this.entityTableNameDeclaration)}),this.OPTION2(()=>{this.SUBRULE(this.entityBody)})})}annotationDeclaration(){this.RULE("annotationDeclaration",()=>{this.CONSUME(r.AT),this.CONSUME(r.NAME,{LABEL:"option"}),this.OPTION(()=>{this.CONSUME(r.LPAREN),this.CONSUME2(r.NAME,{LABEL:"value"}),this.CONSUME(r.RPAREN)})})}entityTableNameDeclaration(){this.RULE("entityTableNameDeclaration",()=>{this.CONSUME(r.LPAREN),this.CONSUME(r.NAME),this.CONSUME(r.RPAREN)})}entityBody(){this.RULE("entityBody",()=>{this.CONSUME(r.LCURLY),this.MANY(()=>{this.SUBRULE(this.fieldDeclaration),this.OPTION(()=>{this.CONSUME(r.COMMA)})}),this.CONSUME(r.RCURLY)})}fieldDeclaration(){this.RULE("fieldDeclaration",()=>{this.OPTION(()=>{this.CONSUME(r.JAVADOC)}),this.MANY(()=>{this.SUBRULE(this.annotationDeclaration)}),this.CONSUME(r.NAME),this.SUBRULE(this.type),this.MANY1(()=>{this.SUBRULE(this.validation)}),this.OPTION2({GATE:()=>{const t=this.LA(0),e=this.LA(1);return t.startLine===e.startLine},DEF:()=>{this.CONSUME2(r.JAVADOC)}})})}type(){this.RULE("type",()=>{this.CONSUME(r.NAME)})}validation(){this.RULE("validation",()=>{this.OR([{ALT:()=>this.CONSUME(r.REQUIRED)},{ALT:()=>this.CONSUME(r.UNIQUE)},{ALT:()=>this.SUBRULE(this.minMaxValidation)},{ALT:()=>this.SUBRULE(this.pattern)}])})}minMaxValidation(){this.RULE("minMaxValidation",()=>{this.CONSUME(r.MIN_MAX_KEYWORD),this.CONSUME(r.LPAREN),this.OR([{ALT:()=>this.CONSUME(r.INTEGER)},{ALT:()=>this.CONSUME(r.NAME)}]),this.CONSUME(r.RPAREN)})}pattern(){this.RULE("pattern",()=>{this.CONSUME(r.PATTERN),this.CONSUME(r.LPAREN),this.CONSUME(r.REGEX),this.CONSUME(r.RPAREN)})}relationDeclaration(){this.RULE("relationDeclaration",()=>{this.CONSUME(r.RELATIONSHIP),this.SUBRULE(this.relationshipType),this.CONSUME(r.LCURLY),this.AT_LEAST_ONE(()=>{this.SUBRULE(this.relationshipBody),this.OPTION(()=>{this.CONSUME(r.COMMA)})}),this.CONSUME(r.RCURLY)})}relationshipType(){this.RULE("relationshipType",()=>{this.OR([{ALT:()=>this.CONSUME(r.ONE_TO_ONE)},{ALT:()=>this.CONSUME(r.ONE_TO_MANY)},{ALT:()=>this.CONSUME(r.MANY_TO_ONE)},{ALT:()=>this.CONSUME(r.MANY_TO_MANY)}])})}relationshipBody(){this.RULE("relationshipBody",()=>{this.MANY(()=>{this.SUBRULE(this.annotationDeclaration)}),this.SUBRULE1(this.relationshipSide,{LABEL:"from"}),this.CONSUME(r.TO),this.SUBRULE2(this.relationshipSide,{LABEL:"to"}),this.OPTION(()=>{this.CONSUME(r.WITH),this.SUBRULE3(this.relationshipOptions,{LABEL:"relationshipOptions"})})})}relationshipSide(){this.RULE("relationshipSide",()=>{this.SUBRULE(this.comment),this.CONSUME(r.NAME),this.OPTION(()=>{this.CONSUME(r.LCURLY),this.CONSUME2(r.NAME,{LABEL:"injectedField"}),this.OPTION1(()=>{this.CONSUME(r.LPAREN),this.CONSUME3(r.NAME,{LABEL:"injectedFieldParam"}),this.CONSUME(r.RPAREN)}),this.OPTION2(()=>{this.CONSUME(r.REQUIRED)}),this.CONSUME(r.RCURLY)})})}relationshipOptions(){this.RULE("relationshipOptions",()=>{this.AT_LEAST_ONE_SEP({SEP:r.COMMA,DEF:()=>{this.SUBRULE(this.relationshipOption,{LABEL:"relationshipOption"})}})})}relationshipOption(){this.RULE("relationshipOption",()=>{this.OR([{ALT:()=>this.CONSUME(r.JPA_DERIVED_IDENTIFIER)}])})}enumDeclaration(){this.RULE("enumDeclaration",()=>{this.CONSUME(r.ENUM),this.CONSUME(r.NAME),this.CONSUME(r.LCURLY),this.SUBRULE(this.enumPropList),this.CONSUME(r.RCURLY)})}enumPropList(){this.RULE("enumPropList",()=>{this.CONSUME(r.NAME),this.MANY(()=>{this.CONSUME(r.COMMA),this.CONSUME2(r.NAME)})})}dtoDeclaration(){this.RULE("dtoDeclaration",()=>{this.CONSUME(r.DTO),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}entityList(){this.RULE("entityList",()=>{this.MANY({GATE:()=>this.LA(2).tokenType===r.COMMA,DEF:()=>{this.CONSUME(r.NAME),this.CONSUME(r.COMMA)}}),this.OR([{ALT:()=>this.CONSUME(r.ALL)},{ALT:()=>this.CONSUME1(r.NAME)}]),this.CONSUME(r.WITH),this.CONSUME2(r.NAME,{LABEL:"method"})})}exclusion(){this.RULE("exclusion",()=>{this.CONSUME(r.EXCEPT),this.CONSUME(r.NAME),this.MANY(()=>{this.CONSUME(r.COMMA),this.CONSUME2(r.NAME)})})}paginationDeclaration(){this.RULE("paginationDeclaration",()=>{this.CONSUME(r.PAGINATE),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}serviceDeclaration(){this.RULE("serviceDeclaration",()=>{this.CONSUME(r.SERVICE),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}microserviceDeclaration(){this.RULE("microserviceDeclaration",()=>{this.CONSUME(r.MICROSERVICE),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}searchEngineDeclaration(){this.RULE("searchEngineDeclaration",()=>{this.CONSUME(r.SEARCH),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}noClientDeclaration(){this.RULE("noClientDeclaration",()=>{this.CONSUME(r.SKIP_CLIENT),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}noServerDeclaration(){this.RULE("noServerDeclaration",()=>{this.CONSUME(r.SKIP_SERVER),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}noFluentMethod(){this.RULE("noFluentMethod",()=>{this.CONSUME(r.NO_FLUENT_METHOD),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}readOnlyDeclaration(){this.RULE("readOnlyDeclaration",()=>{this.CONSUME(r.READ_ONLY),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}clientRootFolderDeclaration(){this.RULE("clientRootFolderDeclaration",()=>{this.CONSUME(r.CLIENT_ROOT_FOLDER),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}filterDeclaration(){this.RULE("filterDeclaration",()=>{this.CONSUME(r.FILTER),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}filterDef(){this.RULE("filterDef",()=>{this.MANY({GATE:()=>this.LA(2).tokenType===r.COMMA,DEF:()=>{this.CONSUME(r.NAME),this.CONSUME(r.COMMA)}}),this.OR([{ALT:()=>this.CONSUME(r.ALL)},{ALT:()=>this.CONSUME1(r.NAME)}])})}angularSuffixDeclaration(){this.RULE("angularSuffixDeclaration",()=>{this.CONSUME(r.ANGULAR_SUFFIX),this.SUBRULE(this.entityList),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}comment(){this.RULE("comment",()=>{this.OPTION(()=>{this.CONSUME(r.JAVADOC)})})}deploymentDeclaration(){this.RULE("deploymentDeclaration",()=>{this.CONSUME(r.DEPLOYMENT),this.CONSUME(r.LCURLY),this.MANY(()=>{this.OR([{ALT:()=>this.CONSUME(r.JAVADOC)},{ALT:()=>this.SUBRULE(this.deploymentConfigDeclaration)}])}),this.CONSUME(r.RCURLY)})}deploymentConfigDeclaration(){this.RULE("deploymentConfigDeclaration",()=>{this.CONSUME(r.DEPLOYMENT_KEY),this.SUBRULE(this.deploymentConfigValue),this.OPTION(()=>{this.CONSUME(r.COMMA)})})}deploymentConfigValue(){this.RULE("deploymentConfigValue",()=>{this.OR([{ALT:()=>this.CONSUME(r.BOOLEAN)},{ALT:()=>this.SUBRULE(this.qualifiedName)},{ALT:()=>this.SUBRULE(this.list)},{ALT:()=>this.CONSUME(r.INTEGER)},{ALT:()=>this.CONSUME(r.STRING)}])})}applicationDeclaration(){this.RULE("applicationDeclaration",()=>{this.CONSUME(r.APPLICATION),this.CONSUME(r.LCURLY),this.SUBRULE(this.applicationSubDeclaration),this.CONSUME(r.RCURLY)})}applicationSubDeclaration(){this.RULE("applicationSubDeclaration",()=>{this.MANY(()=>{this.OR([{ALT:()=>this.SUBRULE(this.applicationSubConfig)},{ALT:()=>this.SUBRULE(this.applicationSubEntities)}])})})}applicationSubConfig(){this.RULE("applicationSubConfig",()=>{this.CONSUME(r.CONFIG),this.CONSUME(r.LCURLY),this.MANY(()=>{this.OR([{ALT:()=>this.CONSUME(r.JAVADOC)},{ALT:()=>this.SUBRULE(this.applicationConfigDeclaration)}])}),this.CONSUME(r.RCURLY)})}applicationConfigDeclaration(){this.RULE("applicationConfigDeclaration",()=>{this.CONSUME(r.CONFIG_KEY),this.SUBRULE(this.configValue),this.OPTION(()=>{this.CONSUME(r.COMMA)})})}configValue(){this.RULE("configValue",()=>{this.OR([{ALT:()=>this.CONSUME(r.BOOLEAN)},{ALT:()=>this.SUBRULE(this.qualifiedName)},{ALT:()=>this.SUBRULE(this.list)},{ALT:()=>this.CONSUME(r.INTEGER)},{ALT:()=>this.CONSUME(r.STRING)}])})}qualifiedName(){this.RULE("qualifiedName",()=>{this.AT_LEAST_ONE_SEP({SEP:r.DOT,DEF:()=>{this.CONSUME(r.NAME)}})})}list(){this.RULE("list",()=>{this.CONSUME(r.LSQUARE),this.MANY_SEP({SEP:r.COMMA,DEF:()=>{this.CONSUME(r.NAME)}}),this.CONSUME(r.RSQUARE)})}applicationSubEntities(){this.RULE("applicationSubEntities",()=>{this.CONSUME(r.ENTITIES),this.SUBRULE(this.filterDef),this.OPTION(()=>{this.SUBRULE(this.exclusion)})})}}},function(t,e,n){const i=n(3),r=n(2).Lexer,o=n(10);t.exports={checkTokens:function(t,e){const n=function(t,e){const n=i.uniq(i.flatMap(t,"CATEGORIES")),o=i.difference(e,i.uniq(t,n)),a=i.reject(o,t=>{const e=t.CATEGORIES;return i.some(e,t=>i.includes(n,t))});return i.reject(a,t=>t.GROUP===r.SKIPPED)}(function(t){return t.reduce((t,e)=>{const n=new o;return e.accept(n),i.uniq(t.concat(n.actualTokens))},[])}(e),t);if(0!==n.length){const t=n.map(t=>t.tokenName);throw Error(`Redundant token definitions found: [ ${t.join(", ")} ]`)}},checkConfigKeys:function(t,e){(function(t,e){const n=i.difference(e,Object.keys(t));if(!i.isEmpty(n))throw Error(`Useless configuration keys: [ ${n.join(", ")} ]`)})(t,e),function(t,e){const n=i.values(t).filter(e=>i.includes(e.CATEGORIES,t.CONFIG_KEY)).map(t=>t.tokenName),r=i.difference(n,e);if(!i.isEmpty(r))throw Error(`Missing configuration keys: [ ${r.join(", ")} ]`)}(t,e)}}},function(t,e,n){const{tokens:i,JDLLexer:r}=n(4),{parse:o,getSyntacticAutoCompleteSuggestions:a}=n(8),s=n(5);t.exports={tokens:i,JDLLexer:r,JDLParser:s,parse:o,getSyntacticAutoCompleteSuggestions:a}},function(t,e,n){const i=n(3),{EOF:r}=n(2),{JDLLexer:o,tokens:a}=n(4),s=n(5),{performAdditionalSyntaxChecks:c}=n(9),{buildAst:u}=n(11),{checkTokens:h}=n(6);t.exports={parse:function(t,e="prog"){return u(f(t,e))},getCst:f,getSyntacticAutoCompleteSuggestions:function(t,e="prog"){const n=o.tokenize(t);p.input=n.tokens;const r=p.computeContentAssist(e,n.tokens);return i.uniq(r.map(t=>t.nextTokenType))}};const p=s.getParser();p.parse();const l=p.getGAstProductions();function f(t,e="prog"){const n=o.tokenize(t);if(n.errors.length>0)throw Error(n.errors[0].message);p.input=n.tokens;const i=p[e]();p.errors.length>0&&function(t){const e=t[0],n=`${e.name}: ${e.message}`,i=e.token,o=i.tokenType!==r?`\n\tat line: ${i.startLine}, column: ${i.startColumn}`:"";throw Error(`${n}${o}`)}(p.errors);const a=c(i);return a.length>0&&function(t){throw Error(t.map(t=>`${t.message}\n\tat line: ${t.token.startLine}, column: ${t.token.startColumn}`).join("\n"))}(a),i}h(Object.values(a),Object.values(l))},function(t,e,n){const i=n(3),r=n(2).tokenMatcher,o=n(5),a=n(4).tokens,s=n(6).checkConfigKeys,c=/^[A-Z_]+$/,u=/^[A-Z][A-Za-z0-9]*$/,h=/^[A-Z][A-Za-z0-9]*$/,p=/^[A-Z][A-Za-z0-9]*$/,l=/^[A-Z][A-Za-z0-9_]*$/,f=/^[A-Za-z][A-Za-z0-9-_]*$/,d=/^[a-z]+$/,E=/^[A-Za-z][A-Za-z0-9]*$/,O=/^[A-Za-z][A-Za-z0-9-]*$/,m=/^[A-Za-z][A-Za-z0-9_]*$/,y=/^[a-z]+(-[A-Za-z0-9]+)*$/,T=/^"((?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:\/?#[\]@!$&'()*+,;=.]+|[a-zA-Z0-9]+)"$/,N={APPLICATION_TYPE:{type:"NAME",pattern:d,msg:"applicationType property"},AUTHENTICATION_TYPE:{type:"NAME",pattern:E,msg:"authenticationType property"},BASE_NAME:{type:"NAME",pattern:m,msg:"baseName property"},BLUEPRINT:{type:"NAME",pattern:O,msg:"blueprint property"},BUILD_TOOL:{type:"NAME",pattern:E,msg:"buildTool property"},CACHE_PROVIDER:{type:"NAME",pattern:E,msg:"cacheProvider property"},CLIENT_FRAMEWORK:{type:"NAME",pattern:E,msg:"clientFramework property"},CLIENT_THEME:{type:"NAME",pattern:E,msg:"clientTheme property"},CLIENT_THEME_VARIANT:{type:"NAME",pattern:E,msg:"clientThemeVariant property"},CLIENT_PACKAGE_MANAGER:{type:"NAME",pattern:E,msg:"clientPackageManager property"},DATABASE_TYPE:{type:"NAME",pattern:E,msg:"databaseType property"},DEV_DATABASE_TYPE:{type:"NAME",pattern:E,msg:"devDatabaseType property"},ENTITY_SUFFIX:{type:"NAME",pattern:E,msg:"entitySuffix property"},DTO_SUFFIX:{type:"NAME",pattern:E,msg:"dtoSuffix property"},ENABLE_HIBERNATE_CACHE:{type:"BOOLEAN"},ENABLE_SWAGGER_CODEGEN:{type:"BOOLEAN"},ENABLE_TRANSLATION:{type:"BOOLEAN"},FRONT_END_BUILDER:{type:"NAME",pattern:/^[A-Za-z]+$/,msg:"frontendBuilder property"},JHIPSTER_VERSION:{type:"STRING"},JHI_PREFIX:{type:"NAME",pattern:/^[A-Za-z][A-Za-z0-9-_]*$/,msg:"jhiPrefix property"},JWT_SECRET_KEY:{type:"qualifiedName",pattern:/^[A-Za-z0-9\-_]*$/,msg:"JWT secret key property"},LANGUAGES:{type:"list",pattern:y,msg:"languages property"},MESSAGE_BROKER:{type:"NAME",pattern:E,msg:"messageBroker property"},NATIVE_LANGUAGE:{type:"NAME",pattern:y,msg:"nativeLanguage property"},PACKAGE_NAME:{type:"qualifiedName",pattern:/^[a-z_][a-z0-9_]*$/,msg:"packageName property"},PROD_DATABASE_TYPE:{type:"NAME",pattern:E,msg:"prodDatabaseType property"},REACTIVE:{type:"BOOLEAN"},SEARCH_ENGINE:{type:"NAME",pattern:E,msg:"searchEngine property"},SERVER_PORT:{type:"INTEGER"},SERVICE_DISCOVERY_TYPE:{type:"NAME",pattern:d,msg:"serviceDiscoveryType property"},SKIP_CLIENT:{type:"BOOLEAN"},SKIP_SERVER:{type:"BOOLEAN"},SKIP_USER_MANAGEMENT:{type:"BOOLEAN"},TEST_FRAMEWORKS:{type:"list",pattern:E,msg:"testFrameworks property"},UAA_BASE_NAME:{type:"STRING"},USE_SASS:{type:"BOOLEAN"},WEBSOCKET:{type:"NAME",pattern:O,msg:"websocket property"}},A={DEPLOYMENT_TYPE:{type:"NAME",pattern:/^[a-z][a-z-]*$/,msg:"deploymentType property"},GATEWAY_TYPE:{type:"NAME",pattern:d,msg:"gatewayType property"},MONITORING:{type:"NAME",pattern:d,msg:"monitoring property"},DIRECTORY_PATH:{type:"STRING",pattern:/^"([^\/]+).*"$/,msg:"directoryPath property"},APPS_FOLDERS:{type:"list",pattern:m,msg:"appsFolders property"},CLUSTERED_DB_APPS:{type:"list",pattern:E,msg:"clusteredDbApps property"},CONSOLE_OPTIONS:{type:"NAME",pattern:d,msg:"consoleOptions property"},SERVICE_DISCOVERY_TYPE:{type:"NAME",pattern:d,msg:"serviceDiscoveryType property"},DOCKER_REPOSITORY_NAME:{type:"STRING",pattern:T,msg:"dockerRepositoryName property"},DOCKER_PUSH_COMMAND:{type:"STRING",pattern:/^"?[A-Za-z][A-Za-z0-9- ]*"?$/,msg:"dockerPushCommand property"},KUBERNETES_NAMESPACE:{type:"NAME",pattern:O,msg:"kubernetesNamespace property"},KUBERNETES_SERVICE_TYPE:{type:"NAME",pattern:E,msg:"kubernetesServiceType property"},INGRESS_DOMAIN:{type:"STRING",pattern:T,msg:"ingressDomain property"},ISTIO:{type:"BOOLEAN",msg:"istio property"},OPENSHIFT_NAMESPACE:{type:"NAME",pattern:O,msg:"openshiftNamespace property"},STORAGE_TYPE:{type:"NAME",pattern:d,msg:"storageType property"}};t.exports={performAdditionalSyntaxChecks:function(t){const e=new R;return e.visit(t),e.errors}};const v=o.getParser();v.parse();const g=v.getBaseCstVisitorConstructorWithDefaults();class R extends g{constructor(){super(),this.validateVisitor(),this.errors=[]}checkNameSyntax(t,e,n){var i;e.test(t.image)||this.errors.push({message:`The ${n} name must match: ${i=e.toString(),i.replace(/^\^/,"").replace(/\$$/,"")}`,token:t})}checkIsSingleName(t){if(t.tokenType&&t.tokenType.CATEGORIES.includes(a.BOOLEAN))return!1;const e=t.children.DOT;return!(e&&e.length>=1)||(this.errors.push({message:"A single name is expected, but found a fully qualified name.",token:S(t)}),!1)}checkExpectedValueType(t,e){switch(t){case"NAME":return"qualifiedName"!==e.name&&e.tokenType&&!i.includes(e.tokenType.CATEGORIES,a.BOOLEAN)?(this.errors.push({message:`A name is expected, but found: "${S(e).image}"`,token:S(e)}),!1):this.checkIsSingleName(e);case"qualifiedName":return"qualifiedName"===e.name||(this.errors.push({message:`A fully qualified name is expected, but found: "${S(e).image}"`,token:S(e)}),!1);case"list":return"list"===e.name||(this.errors.push({message:`An array of names is expected, but found: "${S(e).image}"`,token:S(e)}),!1);case"INTEGER":return e.tokenType===a.INTEGER||(this.errors.push({message:`An integer literal is expected, but found: "${S(e).image}"`,token:S(e)}),!1);case"STRING":return e.tokenType===a.STRING||(this.errors.push({message:`A string literal is expected, but found: "${S(e).image}"`,token:S(e)}),!1);case"BOOLEAN":return!!r(e,a.BOOLEAN)||(this.errors.push({message:`A boolean literal is expected, but found: "${S(e).image}"`,token:S(e)}),!1);default:throw Error(`Expected a boolean, a string, an integer, a list or a (qualified) name, got '${t}'.`)}}checkConfigPropSyntax(t,e){const n=t.tokenType.tokenName,i=N[n];if(!i)throw Error(`Got an invalid application config property: '${n}'.`);this.checkExpectedValueType(i.type,e)&&i.pattern&&e.children&&e.children.NAME&&e.children.NAME.forEach(t=>this.checkNameSyntax(t,i.pattern,i.msg))}checkDeploymentConfigPropSyntax(t,e){const n=t.tokenType.tokenName,i=A[n];if(!i)throw Error(`Got an invalid deployment config property: '${n}'.`);this.checkExpectedValueType(i.type,e)&&i.pattern&&e.children&&e.children.NAME?e.children.NAME.forEach(t=>this.checkNameSyntax(t,i.pattern,i.msg)):e.image&&i.pattern&&this.checkNameSyntax(e,i.pattern,i.msg)}constantDeclaration(t){super.constantDeclaration(t),this.checkNameSyntax(t.NAME[0],c,"constant")}entityDeclaration(t){super.entityDeclaration(t),this.checkNameSyntax(t.NAME[0],u,"entity")}fieldDeclaration(t){super.fieldDeclaration(t),this.checkNameSyntax(t.NAME[0],E,"fieldName")}type(t){super.type(t),this.checkNameSyntax(t.NAME[0],h,"typeName")}minMaxValidation(t){super.minMaxValidation(t),t.NAME&&this.checkNameSyntax(t.NAME[0],c,"constant")}relationshipSide(t){super.relationshipSide(t),this.checkNameSyntax(t.NAME[0],u,"entity"),t.injectedField&&(this.checkNameSyntax(t.injectedField[0],E,"injectedField"),t.injectedFieldParam&&this.checkNameSyntax(t.injectedFieldParam[0],E,"injectedField"))}enumDeclaration(t){super.enumDeclaration(t),this.checkNameSyntax(t.NAME[0],p,"enum")}enumPropList(t){super.enumPropList(t),t.NAME.forEach(t=>{this.checkNameSyntax(t,l,"enum property")})}entityList(t){super.entityList(t),t.NAME&&t.NAME.forEach(t=>{this.checkNameSyntax(t,u,"entity")}),t.method&&this.checkNameSyntax(t.method[0],f,"method")}exclusion(t){super.exclusion(t),t.NAME.forEach(t=>{this.checkNameSyntax(t,u,"entity")})}filterDef(t){t.NAME&&t.NAME.forEach(t=>{this.checkNameSyntax(t,u,"entity")})}applicationConfigDeclaration(t){this.visit(t.configValue,t.CONFIG_KEY[0])}configValue(t,e){const n=i.first(i.first(Object.values(t)));this.checkConfigPropSyntax(e,n)}deploymentConfigDeclaration(t){this.visit(t.deploymentConfigValue,t.DEPLOYMENT_KEY[0])}deploymentConfigValue(t,e){const n=i.first(i.first(i.values(t)));this.checkDeploymentConfigPropSyntax(e,n)}}function S(t){return t.tokenType?t:i.flatten(Object.values(t.children)).reduce((t,e)=>t.startOffset>e.startOffset?e:t,{startOffset:1/0})}s(a,Object.keys(N))},function(t,e,n){const i=n(2).GAstVisitor;t.exports=class extends i{constructor(){super(),this.actualTokens=[]}visitTerminal(t){this.actualTokens.push(t.terminalType)}visitRepetitionMandatoryWithSeparator(t){this.actualTokens.push(t.separator)}visitRepetitionWithSeparator(t){this.actualTokens.push(t.separator)}}},function(t,e,n){const i=n(3),r=n(5);t.exports={buildAst:function(t){return h.visit(t)}};const o=r.getParser();o.parse();const a=o.getBaseCstVisitorConstructor();function s(t,e){const n=e.visit(t.entityList),r=n[n.length-1],o=i.dropRight(n);let a;return t.exclusion&&(a=e.visit(t.exclusion)),{name:r,list:o,excluded:a}}function c(t,e,n){n||(n="list");const i=e.visit(t.filterDef);let r;t.exclusion&&(r=e.visit(t.exclusion));const o={excluded:r};return o[n]=i,o}function u(t){return t.replace(/^\/[*]+/,"").replace(/[*]+\/$/,"")}const h=new class extends a{constructor(){super(),this.validateVisitor()}prog(t){const e={applications:[],deployments:[],constants:{},entities:[],relationships:[],enums:[],dto:{},pagination:{},service:{},microservice:{},search:{},noClient:{list:[],excluded:[]},noServer:{list:[],excluded:[]},filter:{list:[],excluded:[]},angularSuffix:{},noFluentMethod:{list:[],excluded:[]},readOnly:{list:[],excluded:[]},clientRootFolder:{}};if(t.constantDeclaration){t.constantDeclaration.map(this.visit,this).forEach(t=>{e.constants[t.name]=t.value})}t.applicationDeclaration&&(e.applications=t.applicationDeclaration.map(this.visit,this)),t.deploymentDeclaration&&(e.deployments=t.deploymentDeclaration.map(this.visit,this)),t.entityDeclaration&&(e.entities=t.entityDeclaration.map(this.visit,this)),t.relationDeclaration&&(e.relationships=i.flatMap(t.relationDeclaration,t=>this.visit(t))),t.enumDeclaration&&(e.enums=t.enumDeclaration.map(this.visit,this));const n={dtoDeclaration:"dto",paginationDeclaration:"pagination",serviceDeclaration:"service",microserviceDeclaration:"microservice",searchEngineDeclaration:"search",angularSuffixDeclaration:"angularSuffix",noFluentMethod:"noFluentMethod",readOnlyDeclaration:"readOnly",filterDeclaration:"filter",clientRootFolderDeclaration:"clientRootFolder",noClientDeclaration:"noClient",noServerDeclaration:"noServer",filter:"filter"};return Object.keys(n).forEach(i=>{const r=n[i];t[i]&&t[i].map(this.visit,this).forEach(t=>{let n;t.name?e[r][t.name]?n=e[r][t.name]:(n={list:t.list,excluded:[]},e[r][t.name]=n):n=e[r],n.list=Array.from(new Set(n.list.concat(t.list))),t.excluded&&(n.excluded=Array.from(new Set(n.excluded.concat(t.excluded))))})}),e}constantDeclaration(t){return{name:t.NAME[0].image,value:parseInt(t.INTEGER[0].image,10)}}entityDeclaration(t){const e=[];t.annotationDeclaration&&t.annotationDeclaration.forEach(t=>{e.push(this.visit(t))});let n=null;t.JAVADOC&&(n=u(t.JAVADOC[0].image));const i=t.NAME[0].image;let r=i;t.entityTableNameDeclaration&&(r=this.visit(t.entityTableNameDeclaration));let o=[];return t.entityBody&&(o=this.visit(t.entityBody)),{annotations:e,name:i,tableName:r,body:o,javadoc:n}}annotationDeclaration(t){return t.value?{option:t.option[0].image,method:t.value[0].image,type:"BINARY"}:{option:t.option[0].image,type:"UNARY"}}entityTableNameDeclaration(t){return t.NAME[0].image}entityBody(t){return t.fieldDeclaration?t.fieldDeclaration.map(t=>this.visit(t)):[]}fieldDeclaration(t){const e=[];t.annotationDeclaration&&t.annotationDeclaration.forEach(t=>{e.push(this.visit(t))});const n=t.JAVADOC?u(t.JAVADOC[0].image):null;let i=[];return t.validation&&(i=t.validation.map(t=>this.visit(t))),{name:t.NAME[0].image,type:this.visit(t.type),validations:i,javadoc:n,annotations:e}}type(t){return t.NAME[0].image}validation(t){return t.REQUIRED?{key:"required",value:""}:t.UNIQUE?{key:"unique",value:""}:t.minMaxValidation?this.visit(t.minMaxValidation):this.visit(t.pattern)}minMaxValidation(t){const e=!!t.NAME,n={key:t.MIN_MAX_KEYWORD[0].image,value:e?t.NAME[0].image:parseInt(t.INTEGER[0].image,10)};return e&&(n.constant=!0),n}pattern(t){const e=t.REGEX[0].image;return{key:"pattern",value:e.substring(1,e.length-1)}}relationDeclaration(t){const e=this.visit(t.relationshipType),n=t.relationshipBody.map(this.visit,this);return n.forEach(t=>{t.cardinality=e}),n}relationshipType(t){if(t.ONE_TO_ONE)return"one-to-one";if(t.ONE_TO_MANY)return"one-to-many";if(t.MANY_TO_ONE)return"many-to-one";if(t.MANY_TO_MANY)return"many-to-many";throw new Error("No valid relationship type found, expected a OneToOne, a OneToMany, a ManyToOne or a ManyToMany.")}relationshipBody(t){const e=[];t.annotationDeclaration&&t.annotationDeclaration.forEach(t=>{e.push(this.visit(t))});const n=this.visit(t.from),i=this.visit(t.to);return t.relationshipOptions&&this.visit(t.relationshipOptions).forEach(t=>e.push(t)),{from:n,to:i,annotations:e}}relationshipSide(t){const e=this.visit(t.comment),n=t.NAME[0].image,i=!!t.REQUIRED;let r=null;t.injectedField&&(r=t.injectedField[0].image,t.injectedFieldParam&&(r+=`(${t.injectedFieldParam[0].image})`));const o={name:n,injectedField:r,javadoc:e,required:i};return r||delete o.required,o}relationshipOptions(t){return t.relationshipOption.map(this.visit,this).reduce((t,e)=>[...t,e],[])}relationshipOption(t){if(t.JPA_DERIVED_IDENTIFIER)return{option:"useJPADerivedIdentifier",type:"UNARY"};throw new Error("No valid relationship option found, expected 'jpaDerivedIdentifier'.")}enumDeclaration(t){return{name:t.NAME[0].image,values:this.visit(t.enumPropList)}}enumPropList(t){return t.NAME.map(t=>t.image)}dtoDeclaration(t){return s(t,this)}entityList(t){let e=[];return t.NAME&&(e=t.NAME.map(t=>t.image)),t.ALL&&e.push("*"),e.push(t.method[0].image),Array.from(new Set(e))}exclusion(t){return t.NAME.map(t=>t.image,this)}paginationDeclaration(t){return s(t,this)}serviceDeclaration(t){return s(t,this)}microserviceDeclaration(t){return s(t,this)}searchEngineDeclaration(t){return s(t,this)}noClientDeclaration(t){return c(t,this)}noServerDeclaration(t){return c(t,this)}noFluentMethod(t){return c(t,this)}readOnlyDeclaration(t){return c(t,this)}filterDeclaration(t){return c(t,this)}filterDef(t){let e=[];return t.NAME&&(e=t.NAME.map(t=>t.image,this)),t.ALL&&e.push("*"),Array.from(new Set(e))}clientRootFolderDeclaration(t){return s(t,this)}angularSuffixDeclaration(t){return s(t,this)}comment(t){return t.JAVADOC?u(t.JAVADOC[0].image):null}deploymentDeclaration(t){const e={};if(t.deploymentConfigDeclaration){t.deploymentConfigDeclaration.map(this.visit,this).forEach(t=>{e[t.key]=t.value})}return e}deploymentConfigDeclaration(t){return{key:t.DEPLOYMENT_KEY[0].image,value:this.visit(t.deploymentConfigValue)}}deploymentConfigValue(t){return this.configValue(t)}applicationDeclaration(t){return this.visit(t.applicationSubDeclaration)}applicationSubDeclaration(t){const e={config:{},entities:{entityList:[],excluded:[]}};return t.applicationSubConfig&&(e.config=this.visit(t.applicationSubConfig[t.applicationSubConfig.length-1])),t.applicationSubEntities&&(e.entities=this.visit(t.applicationSubEntities[t.applicationSubEntities.length-1])),e}applicationSubConfig(t){const e={};if(t.applicationConfigDeclaration){t.applicationConfigDeclaration.map(this.visit,this).forEach(t=>{e[t.key]=t.value,"packageName"!==t.key||e.packageFolder||(e.packageFolder=t.value.replace(/[.]/g,"/"))})}return e}applicationSubEntities(t){const e=c(t,this,"entityList");return e.excluded||(e.excluded=[]),e}applicationConfigDeclaration(t){return{key:t.CONFIG_KEY[0].image,value:this.visit(t.configValue)}}configValue(t){if(t.qualifiedName)return this.visit(t.qualifiedName);if(t.list)return this.visit(t.list);if(t.INTEGER)return t.INTEGER[0].image;if(t.STRING){const e=t.STRING[0].image;return e.substring(1,e.length-1)}if(t.BOOLEAN)return"true"===t.BOOLEAN[0].image;throw new Error("No valid config value was found, expected a qualified name, a list, an integer, a string or a boolean.")}qualifiedName(t){return t.NAME.map(t=>t.image,this).join(".")}list(t){return t.NAME?t.NAME.map(t=>t.image,this):[]}}}])}));