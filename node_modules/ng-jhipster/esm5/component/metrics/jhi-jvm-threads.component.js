import * as tslib_1 from "tslib";
/*
 Copyright 2013-2019 the original author or authors from the JHipster project.

 This file is part of the JHipster project, see https://www.jhipster.tech/
 for more information.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
import { Component, Input } from '@angular/core';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import { JhiThreadModalComponent } from './jhi-metrics-modal-threads.component';
var JhiJvmThreadsComponent = /** @class */ (function () {
    function JhiJvmThreadsComponent(modalService) {
        this.modalService = modalService;
    }
    JhiJvmThreadsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.threadStats = {
            threadDumpRunnable: 0,
            threadDumpWaiting: 0,
            threadDumpTimedWaiting: 0,
            threadDumpBlocked: 0,
            threadDumpAll: 0
        };
        this.threadData.forEach(function (value) {
            if (value.threadState === 'RUNNABLE') {
                _this.threadStats.threadDumpRunnable += 1;
            }
            else if (value.threadState === 'WAITING') {
                _this.threadStats.threadDumpWaiting += 1;
            }
            else if (value.threadState === 'TIMED_WAITING') {
                _this.threadStats.threadDumpTimedWaiting += 1;
            }
            else if (value.threadState === 'BLOCKED') {
                _this.threadStats.threadDumpBlocked += 1;
            }
        });
        this.threadStats.threadDumpAll =
            this.threadStats.threadDumpRunnable +
                this.threadStats.threadDumpWaiting +
                this.threadStats.threadDumpTimedWaiting +
                this.threadStats.threadDumpBlocked;
    };
    JhiJvmThreadsComponent.prototype.open = function () {
        var modalRef = this.modalService.open(JhiThreadModalComponent);
        modalRef.componentInstance.threadDump = this.threadData;
    };
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], JhiJvmThreadsComponent.prototype, "threadData", void 0);
    JhiJvmThreadsComponent = tslib_1.__decorate([
        Component({
            selector: 'jhi-jvm-threads',
            template: "\n        <h4 jhiTranslate=\"metrics.jvm.threads.title\">Threads</h4>\n        <span><span jhiTranslate=\"metrics.jvm.threads.runnable\">Runnable</span> {{ threadStats.threadDumpRunnable }}</span>\n        <ngb-progressbar\n            [value]=\"threadStats.threadDumpRunnable\"\n            [max]=\"threadStats.threadDumpAll\"\n            [striped]=\"true\"\n            [animated]=\"false\"\n            type=\"success\"\n        >\n            <span>{{ (threadStats.threadDumpRunnable * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\n        </ngb-progressbar>\n        <span><span jhiTranslate=\"metrics.jvm.threads.timedwaiting\">Timed Waiting</span> ({{ threadStats.threadDumpTimedWaiting }})</span>\n        <ngb-progressbar\n            [value]=\"threadStats.threadDumpTimedWaiting\"\n            [max]=\"threadStats.threadDumpAll\"\n            [striped]=\"true\"\n            [animated]=\"false\"\n            type=\"warning\"\n        >\n            <span>{{ (threadStats.threadDumpTimedWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\n        </ngb-progressbar>\n        <span><span jhiTranslate=\"metrics.jvm.threads.waiting\">Waiting</span> ({{ threadStats.threadDumpWaiting }})</span>\n        <ngb-progressbar\n            [value]=\"threadStats.threadDumpWaiting\"\n            [max]=\"threadStats.threadDumpAll\"\n            [striped]=\"true\"\n            [animated]=\"false\"\n            type=\"warning\"\n        >\n            <span>{{ (threadStats.threadDumpWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\n        </ngb-progressbar>\n        <span><span jhiTranslate=\"metrics.jvm.threads.blocked\">Blocked</span> ({{ threadStats.threadDumpBlocked }})</span>\n        <ngb-progressbar\n            [value]=\"threadStats.threadDumpBlocked\"\n            [max]=\"threadStats.threadDumpAll\"\n            [striped]=\"true\"\n            [animated]=\"false\"\n            type=\"success\"\n        >\n            <span>{{ (threadStats.threadDumpBlocked * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\n        </ngb-progressbar>\n        <div>Total: {{ threadStats.threadDumpAll }}</div>\n        <button class=\"hand btn btn-primary btn-sm\" (click)=\"open()\" data-toggle=\"modal\" data-target=\"#threadDump\">\n            <span>Expand</span>\n        </button>\n    "
        }),
        tslib_1.__metadata("design:paramtypes", [NgbModal])
    ], JhiJvmThreadsComponent);
    return JhiJvmThreadsComponent;
}());
export { JhiJvmThreadsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWpoaXBzdGVyLyIsInNvdXJjZXMiOlsiY29tcG9uZW50L21ldHJpY3MvamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBaUJHO0FBQ0gsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFFekQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRXRELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBb0RoRjtJQWNJLGdDQUFvQixZQUFzQjtRQUF0QixpQkFBWSxHQUFaLFlBQVksQ0FBVTtJQUFHLENBQUM7SUFFOUMseUNBQVEsR0FBUjtRQUFBLGlCQTBCQztRQXpCRyxJQUFJLENBQUMsV0FBVyxHQUFHO1lBQ2Ysa0JBQWtCLEVBQUUsQ0FBQztZQUNyQixpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLHNCQUFzQixFQUFFLENBQUM7WUFDekIsaUJBQWlCLEVBQUUsQ0FBQztZQUNwQixhQUFhLEVBQUUsQ0FBQztTQUNuQixDQUFDO1FBRUYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLO1lBQ3pCLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxVQUFVLEVBQUU7Z0JBQ2xDLEtBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLElBQUksQ0FBQyxDQUFDO2FBQzVDO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7Z0JBQ3hDLEtBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDO2FBQzNDO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxlQUFlLEVBQUU7Z0JBQzlDLEtBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLElBQUksQ0FBQyxDQUFDO2FBQ2hEO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7Z0JBQ3hDLEtBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDO2FBQzNDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWE7WUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0I7Z0JBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCO2dCQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQjtnQkFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztJQUMzQyxDQUFDO0lBRUQscUNBQUksR0FBSjtRQUNJLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDakUsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzVELENBQUM7SUFuQ1E7UUFBUixLQUFLLEVBQUU7OzhEQUFpQjtJQVpoQixzQkFBc0I7UUFsRGxDLFNBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsUUFBUSxFQUFFLHMwRUE4Q1Q7U0FDSixDQUFDO2lEQWVvQyxRQUFRO09BZGpDLHNCQUFzQixDQWdEbEM7SUFBRCw2QkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLHNCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gQ29weXJpZ2h0IDIwMTMtMjAxOSB0aGUgb3JpZ2luYWwgYXV0aG9yIG9yIGF1dGhvcnMgZnJvbSB0aGUgSkhpcHN0ZXIgcHJvamVjdC5cblxuIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBKSGlwc3RlciBwcm9qZWN0LCBzZWUgaHR0cHM6Ly93d3cuamhpcHN0ZXIudGVjaC9cbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cbiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IE5nYk1vZGFsIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xuXG5pbXBvcnQgeyBKaGlUaHJlYWRNb2RhbENvbXBvbmVudCB9IGZyb20gJy4vamhpLW1ldHJpY3MtbW9kYWwtdGhyZWFkcy5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2poaS1qdm0tdGhyZWFkcycsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGg0IGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMudGl0bGVcIj5UaHJlYWRzPC9oND5cbiAgICAgICAgPHNwYW4+PHNwYW4gamhpVHJhbnNsYXRlPVwibWV0cmljcy5qdm0udGhyZWFkcy5ydW5uYWJsZVwiPlJ1bm5hYmxlPC9zcGFuPiB7eyB0aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGUgfX08L3NwYW4+XG4gICAgICAgIDxuZ2ItcHJvZ3Jlc3NiYXJcbiAgICAgICAgICAgIFt2YWx1ZV09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGVcIlxuICAgICAgICAgICAgW21heF09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsXCJcbiAgICAgICAgICAgIFtzdHJpcGVkXT1cInRydWVcIlxuICAgICAgICAgICAgW2FuaW1hdGVkXT1cImZhbHNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJzdWNjZXNzXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e3sgKHRocmVhZFN0YXRzLnRocmVhZER1bXBSdW5uYWJsZSAqIDEwMCkgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOiAnMS4wLTAnIH19JTwvc3Bhbj5cbiAgICAgICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgICAgIDxzcGFuPjxzcGFuIGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMudGltZWR3YWl0aW5nXCI+VGltZWQgV2FpdGluZzwvc3Bhbj4gKHt7IHRocmVhZFN0YXRzLnRocmVhZER1bXBUaW1lZFdhaXRpbmcgfX0pPC9zcGFuPlxuICAgICAgICA8bmdiLXByb2dyZXNzYmFyXG4gICAgICAgICAgICBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZ1wiXG4gICAgICAgICAgICBbbWF4XT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBBbGxcIlxuICAgICAgICAgICAgW3N0cmlwZWRdPVwidHJ1ZVwiXG4gICAgICAgICAgICBbYW5pbWF0ZWRdPVwiZmFsc2VcIlxuICAgICAgICAgICAgdHlwZT1cIndhcm5pbmdcIlxuICAgICAgICA+XG4gICAgICAgICAgICA8c3Bhbj57eyAodGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZyAqIDEwMCkgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOiAnMS4wLTAnIH19JTwvc3Bhbj5cbiAgICAgICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgICAgIDxzcGFuPjxzcGFuIGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMud2FpdGluZ1wiPldhaXRpbmc8L3NwYW4+ICh7eyB0aHJlYWRTdGF0cy50aHJlYWREdW1wV2FpdGluZyB9fSk8L3NwYW4+XG4gICAgICAgIDxuZ2ItcHJvZ3Jlc3NiYXJcbiAgICAgICAgICAgIFt2YWx1ZV09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wV2FpdGluZ1wiXG4gICAgICAgICAgICBbbWF4XT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBBbGxcIlxuICAgICAgICAgICAgW3N0cmlwZWRdPVwidHJ1ZVwiXG4gICAgICAgICAgICBbYW5pbWF0ZWRdPVwiZmFsc2VcIlxuICAgICAgICAgICAgdHlwZT1cIndhcm5pbmdcIlxuICAgICAgICA+XG4gICAgICAgICAgICA8c3Bhbj57eyAodGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmcgKiAxMDApIC8gdGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCB8IG51bWJlcjogJzEuMC0wJyB9fSU8L3NwYW4+XG4gICAgICAgIDwvbmdiLXByb2dyZXNzYmFyPlxuICAgICAgICA8c3Bhbj48c3BhbiBqaGlUcmFuc2xhdGU9XCJtZXRyaWNzLmp2bS50aHJlYWRzLmJsb2NrZWRcIj5CbG9ja2VkPC9zcGFuPiAoe3sgdGhyZWFkU3RhdHMudGhyZWFkRHVtcEJsb2NrZWQgfX0pPC9zcGFuPlxuICAgICAgICA8bmdiLXByb2dyZXNzYmFyXG4gICAgICAgICAgICBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcEJsb2NrZWRcIlxuICAgICAgICAgICAgW21heF09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsXCJcbiAgICAgICAgICAgIFtzdHJpcGVkXT1cInRydWVcIlxuICAgICAgICAgICAgW2FuaW1hdGVkXT1cImZhbHNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJzdWNjZXNzXCJcbiAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e3sgKHRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkICogMTAwKSAvIHRocmVhZFN0YXRzLnRocmVhZER1bXBBbGwgfCBudW1iZXI6ICcxLjAtMCcgfX0lPC9zcGFuPlxuICAgICAgICA8L25nYi1wcm9ncmVzc2Jhcj5cbiAgICAgICAgPGRpdj5Ub3RhbDoge3sgdGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCB9fTwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiaGFuZCBidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIgKGNsaWNrKT1cIm9wZW4oKVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiN0aHJlYWREdW1wXCI+XG4gICAgICAgICAgICA8c3Bhbj5FeHBhbmQ8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIGBcbn0pXG5leHBvcnQgY2xhc3MgSmhpSnZtVGhyZWFkc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgdGhyZWFkU3RhdHM6IHtcbiAgICAgICAgdGhyZWFkRHVtcEFsbDogbnVtYmVyO1xuICAgICAgICB0aHJlYWREdW1wUnVubmFibGU6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcFRpbWVkV2FpdGluZzogbnVtYmVyO1xuICAgICAgICB0aHJlYWREdW1wV2FpdGluZzogbnVtYmVyO1xuICAgICAgICB0aHJlYWREdW1wQmxvY2tlZDogbnVtYmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBvYmplY3QgY29udGFpbmluZyB0aHJlYWQgcmVsYXRlZCBtZXRyaWNzXG4gICAgICovXG4gICAgQElucHV0KCkgdGhyZWFkRGF0YTogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE5nYk1vZGFsKSB7fVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMudGhyZWFkU3RhdHMgPSB7XG4gICAgICAgICAgICB0aHJlYWREdW1wUnVubmFibGU6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wV2FpdGluZzogMCxcbiAgICAgICAgICAgIHRocmVhZER1bXBUaW1lZFdhaXRpbmc6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wQmxvY2tlZDogMCxcbiAgICAgICAgICAgIHRocmVhZER1bXBBbGw6IDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnRocmVhZERhdGEuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUudGhyZWFkU3RhdGUgPT09ICdSVU5OQUJMRScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBSdW5uYWJsZSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50aHJlYWRTdGF0ZSA9PT0gJ1dBSVRJTkcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wV2FpdGluZyArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50aHJlYWRTdGF0ZSA9PT0gJ1RJTUVEX1dBSVRJTkcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wVGltZWRXYWl0aW5nICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLnRocmVhZFN0YXRlID09PSAnQkxPQ0tFRCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCA9XG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBSdW5uYWJsZSArXG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBXYWl0aW5nICtcbiAgICAgICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZyArXG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIGNvbnN0IG1vZGFsUmVmID0gdGhpcy5tb2RhbFNlcnZpY2Uub3BlbihKaGlUaHJlYWRNb2RhbENvbXBvbmVudCk7XG4gICAgICAgIG1vZGFsUmVmLmNvbXBvbmVudEluc3RhbmNlLnRocmVhZER1bXAgPSB0aGlzLnRocmVhZERhdGE7XG4gICAgfVxufVxuIl19